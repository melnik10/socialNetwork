(this["webpackJsonpreact-kabzda-1"]=this["webpackJsonpreact-kabzda-1"]||[]).push([[3],{376:function(e,t,c){e.exports={profile:"ProfileInfo_profile__YSjBd",profileImage:"ProfileInfo_profileImage__2dBBy",profilePhoto:"ProfileInfo_profilePhoto__3uTyF",profileInfo:"ProfileInfo_profileInfo__27G7W",contacts:"ProfileInfo_contacts__1P14f",contactsTitle:"ProfileInfo_contactsTitle__1L1ZA",contactsItems:"ProfileInfo_contactsItems__1_flt",contactsLink:"ProfileInfo_contactsLink__2Lo8L"}},379:function(e,t,c){},380:function(e,t,c){e.exports={postsBlock:"MyPosts_postsBlock__2zq-8",addPostBlock:"MyPosts_addPostBlock__3fMPS"}},381:function(e,t,c){e.exports={item:"Post_item__2mPem"}},382:function(e,t,c){"use strict";c.r(t);var s=c(0),o=c.n(s),i=c(379),n=c.n(i),a=c(376),j=c.n(a),r=c(69),l=c(155),b=c(12),d=c(143),O=c(1);var x=e=>{let[t,c]=Object(s.useState)(!1),[o,i]=Object(s.useState)(e.status);const n=Object(b.c)(),a=()=>{t?(c(!1),n(Object(d.h)(o))):c(!0)};Object(s.useEffect)((()=>{i(e.status)}),[e.status]);return Object(O.jsx)(O.Fragment,{children:t?Object(O.jsx)("div",{children:Object(O.jsx)("input",{autoFocus:!0,onBlur:a,onChange:e=>{i(e.currentTarget.value)},value:o})}):Object(O.jsx)("div",{children:Object(O.jsx)("span",{onDoubleClick:a,children:e.status||"-----"})})})},u=c(134),h=c(180),p=c(51),f=c(85),m=c.n(f),v=c(68);var g=Object(h.a)({form:"profileData"})((e=>Object(O.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{children:Object(O.jsx)("b",{children:"Full name:"})}),Object(O.jsx)(u.a,{name:"fullName",type:"text",validate:[v.b],component:p.a,placeholder:"Input your name..."})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{children:Object(O.jsx)("b",{children:"About me:"})}),Object(O.jsx)(u.a,{name:"aboutMe",component:p.b,validate:[v.b],type:"text"})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{children:Object(O.jsx)("b",{children:"Do you look for a job?"})}),Object(O.jsx)(u.a,{name:"lookingForAJob",component:p.a,type:"checkbox"})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{children:Object(O.jsx)("b",{children:"Professional skills: "})}),Object(O.jsx)(u.a,{name:"lookingForAJobDescription",validate:[v.b],component:p.b,type:"text"})]}),Object(O.jsxs)("div",{className:j.a.contacts,children:[Object(O.jsx)("div",{className:j.a.contactsTitle,children:Object(O.jsx)("b",{children:"Contacts:"})}),Object.keys(e.profile.contacts).map(((e,t)=>{const c="contacts."+e;return Object(O.jsxs)("div",{className:j.a.contactsItems,children:[Object(O.jsx)("div",{children:Object(O.jsxs)("b",{children:[e,":"]})}),Object(O.jsx)("div",{children:Object(p.c)(void 0,c,[],p.a)})]})}))]}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{onSubmit:()=>{},type:"submit",children:"Save"})}),e.error&&Object(O.jsx)("div",{className:m.a.formSummaryError,children:e.error})]})));const _=e=>Object(O.jsxs)("div",{className:j.a.profileInfo,children:[e.isOwner?Object(O.jsx)("button",{onClick:e.activateEditMode,children:"Edit"}):"",Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"My name"}),": ",e.profile.fullName]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"About me"}),": ",e.profile.aboutMe]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"Looking for a job:"})," ",e.profile.lookingForAJob?"yes":"no"]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"My professional skills:"})," ",e.profile.lookingForAJobDescription]}),Object(O.jsx)("div",{children:Object(O.jsx)("b",{children:"Contacts:"})}),Object.entries(e.profile.contacts).map(((e,t)=>{let[c,s]=e;return Object(O.jsx)(P,{contactTitle:c,contactValue:s},t)}))]}),P=e=>{let{contactTitle:t,contactValue:c,...s}=e;const o=Object(b.c)();return Object(O.jsx)("div",{children:c?Object(O.jsxs)("div",{className:j.a.contactsItems,onClick:()=>o(Object(d.e)(c)),children:[Object(O.jsxs)("b",{children:[t,": "]}),Object(O.jsx)("span",{className:j.a.contactsLink,children:c})]}):""})};var k=e=>{const t=Object(b.d)((e=>e.profilePage.profile)),c=Object(b.d)((e=>e.profilePage.status)),o=(Object(b.d)((e=>e.auth.userId)),Object(b.d)((e=>e.auth.isAuth)),Object(b.c)());let[i,n]=Object(s.useState)(!1);if(!t)return Object(O.jsx)(r.a,{});return Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:j.a.profile,children:[Object(O.jsxs)("div",{className:j.a.profilePhoto,children:[Object(O.jsx)("img",{alt:"userPhotoLarge",src:(null===t||void 0===t?void 0:t.photos.large)||l.a}),Object(O.jsx)("div",{children:e.isOwner?Object(O.jsx)("input",{defaultValue:"",onChange:e=>(e=>{var t;if(null===(t=e.target.files)||void 0===t?void 0:t.length){const t=Array.from(e.target.files);o(Object(d.g)(String(t[0]))),e.target.value=""}})(e),datatype:"",type:"file"}):""}),Object(O.jsx)(x,{status:c})]}),i?Object(O.jsx)(g,{initialValues:{...t,...null===t||void 0===t?void 0:t.contacts},profile:t,onSubmit:async e=>{await o(Object(d.f)(e)),n(!1)},...e}):Object(O.jsx)(_,{activateEditMode:()=>n(!0),profile:t,...e})]})})},y=c(380),I=c.n(y),N=c(381),S=c.n(N);var M=e=>Object(O.jsxs)("div",{className:S.a.item,children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("img",{alt:"postAvatar",src:"https://eugeneronin.com/wp-content/uploads/2010/01/avatar.jpg"}),e.message]}),Object(O.jsxs)("div",{children:[e.likesCount," like"]})]});const A=Object(v.a)(10);var B=Object(h.a)({form:"addPost"})((e=>Object(O.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(O.jsx)("div",{children:Object(p.c)("Enter text...","postText",[v.b,A],p.b)}),Object(O.jsxs)("div",{children:[Object(O.jsx)("button",{type:"submit",children:"Add post"}),Object(O.jsx)("button",{type:"reset",children:"Remove post"})]})]})));const C=e=>{let t=e.profilePage.posts.map((e=>Object(O.jsx)(M,{message:e.message,likesCount:e.likesCount},e.id)));return Object(O.jsxs)("div",{className:I.a.postsBlock,children:[Object(O.jsx)("h3",{children:" My posts "}),Object(O.jsx)("div",{className:I.a.addPostBlock,children:Object(O.jsx)(B,{onSubmit:t=>{e.addPost(t.postText),e.reset("addPost")}})}),t]})};var w=o.a.memo(C),T=c(61);var F=Object(b.b)((e=>({profilePage:e.profilePage})),{reset:T.a,addPost:d.a})(w);var L=e=>Object(O.jsxs)("div",{className:n.a.profile,children:[Object(O.jsx)(k,{isOwner:e.isOwner,editMode:e.editMode}),Object(O.jsx)(F,{})]}),E=c(24);t.default=()=>{const e=Object(b.c)(),t=Object(E.g)(),c=Object(b.d)((e=>e.auth.isAuth)),o=Object(b.d)((e=>e.auth.userId));let{userId:i}=Object(E.h)(),n=Number(i);return Object(s.useEffect)((()=>{n||(n=o,o||t.push("/login")),n&&(e(Object(d.d)(n)),e(Object(d.c)(n)))}),[n]),c||n?Object(O.jsx)(L,{isOwner:!n,editMode:!0}):Object(O.jsx)(E.a,{to:"/login"})}}}]);
//# sourceMappingURL=3.92397845.chunk.js.map