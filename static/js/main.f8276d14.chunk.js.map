{"version":3,"sources":["components/Header/Header.module.css","api/profileAPI.ts","redux/reducers/profile_reducer.ts","assets/images/user.png","redux/reducers/dialogs_reducer.ts","api/api.ts","components/pages/Chat/ChatPage.module.css","serviceWorker.js","api/authAPI.ts","api/securityAPI.ts","redux/reducers/auth_reducer.ts","redux/reducers/app_reducer.ts","redux/hoc/withSuspenseComponent.tsx","components/Content/Settings/Settings.tsx","components/Content/News/News.tsx","components/Content/Music/Music.tsx","api/usersAPI.ts","redux/reducers/users_reducer.ts","components/Content/Users/User/User.tsx","components/Content/Users/Paginator/Paginator.tsx","assets/icons/arrowLeft.png","assets/icons/arrowRight.png","redux/reducers/users_selectors.ts","components/Content/Users/Users.tsx","components/Content/Login/LoginForm.tsx","components/Content/Login/LoginPage.tsx","components/Header/Header.tsx","api/chat-api.ts","redux/reducers/chat_reducer.ts","components/pages/Chat/ChatPage.tsx","App.tsx","redux/reducers/sidebar_reducer.ts","redux/redux_store.ts","index.tsx","components/Content/Users/Users.module.css","components/common/FieldComponents/FieldComponents.tsx","redux/utilities/validators.ts","assets/images/Spinner-1s-200px.svg","components/common/Preloader/Preloader.tsx","components/Content/Users/Paginator/Paginator.module.css","components/common/FieldComponents/FieldComponents.module.css"],"names":["module","exports","profileAPI","getProfile","userId","instance","get","getStatus","then","res","data","updateStatus","status","put","updatePhoto","photo","formData","FormData","append","updateProfile","profileData","initialState","posts","id","message","likesCount","profile","actions","addPost","postText","type","payload","deletePost","postId","setUserProfile","openUrl","url","setStatus","photos","getUserProfileThunkCreator","async","response","dispatch","getStatusProfileThunkCreator","updateStatusProfileThunkCreator","resultCode","ResultCodeEnum","Success","updateProfilePhotoThunkCreator","photoFile","updateProfileDataThunkCreator","errorsMessages","errorsMessagesLength","messages","length","errorMessage","i","errorObject","slice","search","toLowerCase","stopSubmit","Promise","reject","profileReducer","state","action","newPost","undefined","filter","p","includes","window","open","contacts","dialogs","name","from","to","avatar","sendMessage","textMessage","dialogsReducer","axios","create","withCredentials","baseURL","headers","ResultCodeForCaptchaEnum","Boolean","location","hostname","match","authAPI","authMe","login","email","password","post","delete","securityAPI","isAuth","captchaUrl","getAuthUserThunkCreator","authReducer","initialized","setInitializedSuccessAC","appReducer","WithSuspenseComponent","WrappedComponent","props","fallback","Preloader","Settings","News","Music","usersAPI","getUsers","currentPage","term","friend","pageSize","filterFriend","String","unfollow","follow","InitialState","users","totalUsersCount","isLoading","followingProgress","userID","getUsersThunkCreator","getState","items","totalCount","usersReducer","map","u","followed","User","user","useDispatch","followThunkCreator","unfollowThunkCreator","className","s","userButtons","userPhoto","alt","src","small","disabled","some","onClick","userInfo","userInfoLeft","userName","userInfoRight","Paginator","portionSize","history","useHistory","pagesCount","Math","ceil","pages","push","portionsCount","portionNumber","setPortionNumber","useState","leftBorderPortion","rightBorderPortion","arrowsButton","pageNumber","pathname","createSearchFilterUrl","pageItem","selectedPageItem","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsLoading","getFollowingProgress","isAuthSelector","auth","getFilter","Users","useSelector","parseUrl","queryString","actualFilter","actualPage","page","Number","useEffect","UsersSearchForm","friendFilter","searchHistoryUrl","initialValues","onSubmit","values","setSubmitting","isSubmitting","component","htmlFor","value","maxlength40","maxLength","maxlength10","Captcha","createField","required","Input","ReduxLoginForm","reduxForm","form","handleSubmit","error","formSummaryError","LoginPage","console","log","getCaptcha","_error","loginAuthUserThunkCreator","AppHeader","span","selectedKeys","theme","mode","Item","loginBlock","header__avatar","style","backgroundColor","icon","UserOutlined","logout","ws","onCloseWsChanel","subscribers","forEach","setTimeout","onCreateWsChanel","cleaUp","removeEventListener","onMessageHandler","onErrorWsChanel","onOpenWsChanel","close","WebSocket","addEventListener","e","newMessages","JSON","parse","chatAPI","eventName","callback","send","_newMessageHandler","newMessageHandlerCreator","_onStatusChanged","onStatusChangedCreator","chatReducer","m","uuid","v1","el","index","array","Chat","React","memo","Messages","AddMessageForm","chat","messageAnchorRef","useRef","isAutoScrolling","setIsAutoScrolling","current","scrollIntoView","behavior","block","height","overflowY","onScroll","myDiv","currentTarget","offsetHeight","scrollTop","scrollHeight","Message","ref","width","marginRight","newMessage","setNewMessage","readyStatus","addMessageForm","TextArea","onChange","target","placeholder","ChatPage","SubMenu","Menu","Content","Footer","Sider","Layout","DialogsContainer","lazy","ProfileContainer","SuspendedDialogs","SuspendedProfile","App","app","promise","all","padding","margin","title","LaptopOutlined","NotificationOutlined","minHeight","exact","path","render","textAlign","friends","sidebarReducer","rootReducer","combineReducers","profilePage","dialogsPage","sidebar","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","FieldComponent","Element","input","meta","hasError","touched","textareaForm","text","validators","validate","Textarea","preloader"],"mappings":"2GACAA,EAAOC,QAAU,CAAC,OAAS,uBAAuB,eAAiB,+BAA+B,WAAa,6B,mSCExG,MAAMC,EAAa,CACtBC,WAAWC,GACAC,IAASC,IAAT,kBAAqCF,IAEhDG,UAAUH,GACCC,IAASC,IAAT,yBAAuCF,IAAUI,MAAKC,GAAOA,EAAIC,OAE5EC,aAAaC,GACFP,IAASQ,IAAT,iBAAoD,CAACD,WAASJ,MAAKC,GAAOA,EAAIC,OAEzFI,YAAYC,GACR,MAAMC,EAAW,IAAIC,SAErB,OADAD,EAASE,OAAO,QAASH,GAClBV,IAASQ,IAAT,gBAA+DG,GAAUR,MAAKC,GAAOA,EAAIC,QAEpGS,cAAcC,GACHf,IAASQ,IAAT,UAA6CO,GAAaZ,MAAKC,GAAOA,EAAIC,QCbzF,IAAIW,EAAe,CACfC,MAAO,CACH,CAACC,GAAI,EAAGC,QAAS,SAAUC,WAAY,IACvC,CAACF,GAAI,EAAGC,QAAS,kBAAmBC,WAAY,IAChD,CAACF,GAAI,EAAGC,QAAS,qBAAsBC,WAAY,IACnD,CAACF,GAAI,EAAGC,QAAS,qBAAsBC,WAAY,IACnD,CAACF,GAAI,EAAGC,QAAS,eAAgBC,WAAY,KAC7C,CAACF,GAAI,EAAGC,QAAS,eAAgBC,WAAY,MAEjDC,QAAS,KACTd,OAAQ,IAMZ,MAqEae,EAAU,CACnBC,QAAUC,IAAD,CAAwBC,KAAM,mBAAoBC,QAAS,CAACF,cACrEG,WAAaC,IAAD,CAAsBH,KAAM,sBAAuBC,QAAS,CAACE,YACzEC,eAAiBR,IAAD,CAA4BI,KAAM,2BAA4BC,QAAS,CAACL,aACxFS,QAAUC,IAAD,CAAmBN,KAAM,mBAAoBC,QAAS,CAACK,SAChEC,UAAYzB,IAAD,CAAsBkB,KAAM,qBAAsBC,QAAS,CAACnB,YACvED,aAAeC,IAAD,CAAsBkB,KAAM,wBAAyBC,QAAS,CAACnB,YAC7EE,YAAcwB,IAAD,CACTR,KAAM,+BACNC,QAAS,CAACO,OAAQ,IAAIA,MAE1BnB,cAAgBC,IAAD,CACXU,KAAM,8BACNC,QAAS,CAACX,mBAGL,QAACQ,EAAD,QAAUO,EAAV,WAAmBH,GAAcL,EAGjCY,EAA8BnC,GAAqCoC,UAC5E,IAAIC,QAAiBvC,EAAWC,WAAWC,GAC3CsC,EAASf,EAAQO,eAAeO,EAAS/B,QAEhCiC,EAAgCvC,GAAqCoC,UAC9E,IAAIC,QAAiBvC,EAAWK,UAAUH,GAC1CsC,EAASf,EAAQU,UAAUI,KAGlBG,EAAmChC,GAAqC4B,iBAC5DtC,EAAWS,aAAaC,IAChCiC,aAAeC,IAAeC,SACvCL,EAASf,EAAQhB,aAAaC,KAIzBoC,EAAkCC,GAAwCT,UACnF,IAAIC,QAAiBvC,EAAWY,YAAYmC,GACxCR,EAASI,aAAeC,IAAeC,SACvCL,EAASf,EAAQb,YAAY2B,EAAS/B,QAIjCwC,EAAiC9B,GAA+CoB,UACzF,IAAIC,QAAiBvC,EAAWiB,cAAcC,GAC9C,GAAIqB,EAASI,aAAeC,IAAeC,QAEpC,CACH,IAAII,EAAsB,GAC1B,MAAMC,EAAuBX,EAASY,SAASC,OAC/C,IAAIC,EACJ,GAAIH,EAAuB,EACvB,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAsBI,IAAK,CAC3CD,EAAed,EAASY,SAASG,GACjC,IAAIC,EAAcF,EAAaG,MAAMH,EAAaI,OAAO,OAAOD,MAAM,GAAI,GAAGE,cACzD,aAAhBH,IAA4BA,EAAc,YAC9CN,EAAeM,GAAeF,OAGlCA,EAAe,aAGnB,OADAb,EAASmB,YAAW,cAAe,CAAC,SAAY,IAAIV,MAC7CW,QAAQC,OAAOZ,GAhBtBT,EAASf,EAAQR,cAAcC,KAoBxB4C,IAtIQ,WAAqE,IAApEC,EAAmE,uDAA3D5C,EAAc6C,EAA6C,uCAEvF,OAAQA,EAAOpC,MACX,IAAK,mBACD,IAAIqC,EAAU,CACV5C,GAAK0C,EAAM3C,MAAMgC,OAAS,EAC1B9B,QAAS0C,EAAOnC,QAAQF,SACxBJ,WAAY,GAEhB,YAAwB2C,IAApBD,EAAQ3C,QACDyC,EAEJ,IACAA,EACH3C,MAAO,IAAI2C,EAAM3C,MAAO6C,IAEhC,IAAK,sBACD,MAAO,IACAF,EACH3C,MAAO2C,EAAM3C,MAAM+C,QAAOC,GAAKA,EAAE/C,KAAO2C,EAAOnC,QAAQE,UAG/D,IAAK,2BACD,MAAO,IACAgC,EACHvC,QAASwC,EAAOnC,QAAQL,SAGhC,IAAK,mBACD,IAAIU,EAAM8B,EAAOnC,QAAQK,IAOzB,OANIA,EAAImC,SAAS,WAAY,IAAMnC,EAAImC,SAAS,UAAW,KAGvDnC,EAAM,UAAYA,GAFlBoC,OAAOC,KAAKrC,EAAK,UAKd,IACA6B,GAEX,IAAK,qBAKL,IAAK,wBACD,MAAO,IACAA,EACHrD,OAAQsD,EAAOnC,QAAQnB,QAE/B,IAAK,+BACD,MAAO,IACAqD,EACHvC,QAAS,IAAIuC,EAAMvC,QAASY,OAAQ4B,EAAOnC,QAAQO,SAG3D,IAAK,8BACD,MAAO,IACA2B,EACHvC,QAAS,IACFuC,EAAMvC,WAAYwC,EAAOnC,QAAQX,YACpCsD,SAAUR,EAAOnC,QAAQX,YAAYsD,WAIjD,QACI,OAAOT,K,iCCvFJ,QAA0B,kC,iCCgBzC,wCAAM5C,EAAe,CACjBsD,QAAS,CACL,CAACpD,GAAI,EAAGqD,KAAM,QACd,CAACrD,GAAI,EAAGqD,KAAM,UACd,CAACrD,GAAI,EAAGqD,KAAM,UACd,CAACrD,GAAI,EAAGqD,KAAM,QACd,CAACrD,GAAI,EAAGqD,KAAM,WACd,CAACrD,GAAI,EAAGqD,KAAM,YAElBvB,SAAU,CACN,CACI9B,GAAI,EACJC,QAAS,SACTqD,KAAM,EACNC,GAAI,EACJC,OAAQ,8FAEZ,CACIxD,GAAI,EACJC,QAAS,SACTqD,KAAM,EACNC,GAAI,EACJC,OAAQ,yEAEZ,CACIxD,GAAI,EACJC,QAAS,eACTqD,KAAM,EACNC,GAAI,EACJC,OAAQ,8FAEZ,CACIxD,GAAI,EACJC,QAAS,wBACTqD,KAAM,EACNC,GAAI,EACJC,OAAQ,yEAEZ,CACIxD,GAAI,EACJC,QAAS,YACTqD,KAAM,EACNC,GAAI,EACJC,OAAQ,8FAEZ,CACIxD,GAAI,EACJC,QAAS,SACTqD,KAAM,EACNC,GAAI,EACJC,OAAQ,4EAkCP,YAACC,GAHS,CACnBA,YAAcC,IAAD,CAA2BnD,KAAM,uBAAwBC,QAAS,CAACkD,kBAKrEC,IA/BQ,WAAqE,IAApEjB,EAAmE,uDAA3D5C,EAAc6C,EAA6C,uCAEvF,GACS,yBADDA,EAAOpC,KACX,CACI,IAAIN,EAAuB,CACvBD,GAAI,EACJC,QAAS0C,EAAOnC,QAAQkD,YACxBJ,KAAM,EACNC,GAAI,EACJC,OAAQ,8FAEZ,YAAwBX,IAApB5C,EAAQA,QACDyC,EAEJ,IACAA,EACHZ,SAAU,IAAIY,EAAMZ,SAAU7B,IAGlC,MAAO,IAAIyC,K,gCC3FvB,mHAEO,MAAM5D,EAFb,OAEwB8E,EAAMC,OAC1B,CACIC,iBAAiB,EACjBC,QAAS,gDACTC,QAAS,CACL,UAAW,0CAIhB,IAAKzC,EAIA0C,G,SAJA1C,O,qBAAAA,I,kBAAAA,M,cAIA0C,O,uBAAAA,M,0BCdZxF,EAAOC,QAAU,CAAC,eAAiB,mC,+GCWfwF,QACW,cAA7BjB,OAAOkB,SAASC,UAEe,UAA7BnB,OAAOkB,SAASC,UAEhBnB,OAAOkB,SAASC,SAASC,MACvB,2D,8DCVC,MAAMC,EAAU,CACnBC,OAAM,IACKzF,IAASC,IAAT,WACFE,MAAKiC,GAAYA,EAAS/B,OAEnCqF,MAAK,CAACC,EAAuBC,IAClB5F,IAAS6F,KAAT,aAAgG,CACnGF,QAAOC,aAENzF,MAAKiC,GAAYA,EAAS/B,OAEnC8B,OAAA,gBACyBnC,IAAS8F,OAAT,eACLzF,MChBX0F,EAAc,CACvB5D,WAAA,gBACyBnC,IAASC,IAAuC,6BACrDI,MCDxB,IAAIW,EAAe,CACfjB,OAAQ,KACR4F,MAAO,KACPD,MAAO,KACPM,QAAQ,EACRC,WAAY,MAWhB,MAiBa3E,EACQ,CAACvB,EAAuB4F,EAAsBD,EAAsBM,KACzE,CAACvE,KAAM,qBAAsBC,QAAS,CAAC3B,SAAQ4F,QAAOD,QAAOM,YAFhE1E,EAIO2E,IAAD,CAAiCxE,KAAM,uBAAwBC,QAAS,CAACuE,gBAK/EC,EAA0B,IAAqB/D,UACxD,IAAI9B,QAAamF,EAAQC,SACzB,GAAIpF,EAAKmC,aAAeC,IAAeC,QAAS,CAC5C,IAAI,GAACxB,EAAD,MAAKyE,EAAL,MAAYD,GAASrF,EAAKA,KAC9BgC,EAASf,EAAwBJ,EAAIyE,EAAOD,GAAO,MAgC5CS,MA9DK,WAAkE,IAAjEvC,EAAgE,uDAAxD5C,EAAc6C,EAA0C,uCACjF,OAAQA,EAAOpC,MACX,IAAK,qBACD,MAAO,IACAmC,KACAC,EAAOnC,SAElB,IAAK,uBACD,MAAO,IACAkC,EACHqC,WAAYpC,EAAOnC,QAAQuE,YAEnC,QACI,OAAOrC,IC9BnB,IAAI5C,EAAe,CACfoF,aAAa,GAMjB,MAiBa,wBAACC,GAHS,CACnBA,wBAAyB,MAAQ5E,KAAM,6BAa5B6E,MA5BI,WAAgE,IAA/D1C,EAA8D,uDAAtD5C,EAAc6C,EAAwC,uCAC9E,MACS,4BADDA,EAAOpC,KAEA,IACAmC,EACHwC,aAAa,GAIVxC,G,eCNJ2C,MAZR,SAAoCC,GAQvC,OAPwBC,GAElB,cAAC,WAAD,CAAUC,SAAU,cAACC,EAAA,EAAD,IAApB,SACI,cAACH,EAAD,IAAsBC,O,+DCMrBG,MARiB,IAE1B,2CCKSC,MARa,IAEtB,uCCOSC,MARc,IAEvB,wC,kCCJC,MAAMC,EAAW,CACpBC,SAASC,GAAuF,IAAlEjD,EAAiE,uDAA5C,CAACkD,KAAM,GAAIC,OAAQ,MAAOC,EAAkB,uCAC3F,MAAMC,EAAeC,OAAOtD,EAAOmD,QACnC,IAAIpF,EAAG,qBAAiBkF,EAAjB,kBAAsCG,GAW7C,OAVGpD,EAAOkD,OAASG,IACftF,EAAG,qBAAiBkF,EAAjB,kBAAsCG,EAAtC,iBAAuDpD,EAAOkD,QAEjElD,EAAOkD,MAAQG,IACftF,EAAG,qBAAiBkF,EAAjB,kBAAsCG,EAAtC,mBAAyDC,IAE7DrD,EAAOkD,MAAQG,IACdtF,EAAG,qBAAiBkF,EAAjB,kBAAsCG,EAAtC,mBAAyDC,EAAzD,iBAA8ErD,EAAOkD,OAGrFlH,IAASC,IAA6B8B,GACxC5B,MAAKiC,GAAYA,EAAS/B,QAEnCkH,SAASxH,GACEC,IAAS8F,OAAT,iBAA+C/F,IACjDI,MAAKiC,GAAYA,EAAS/B,OAEnCmH,OAAOzH,GACIC,IAAS6F,KAAT,iBAA6C9F,GAAU,IACzDI,MAAKiC,GAAYA,EAAS/B,QCrBvC,IAAIoH,EAAe,CACfC,MAAO,GACPN,SAAU,EACVO,gBAAiB,EACjBV,YAAa,EACbW,WAAW,EACXC,kBAAmB,GACnB7D,OAAQ,CACJkD,KAAM,GACNC,OAAQ,OAMhB,MA4Da7F,EACAwG,IAAD,CAAsBrG,KAAM,eAAgBC,QAAS,CAACoG,YADrDxG,EAEEwG,IAAD,CAAsBrG,KAAM,iBAAkBC,QAAS,CAACoG,YAFzDxG,EAGEoG,IAAD,CAA+BjG,KAAM,kBAAmBC,QAAS,CAACgG,WAHnEpG,EAIG0C,IAAD,CAA0BvC,KAAM,mBAAoBC,QAAS,CAACsC,YAJhE1C,EAKQ2F,IAAD,CAA2BxF,KAAM,yBAA0BC,QAAS,CAACuF,iBAL5E3F,EAMYqG,IAAD,CAA+BlG,KAAM,8BAA+BC,QAAS,CAACiG,qBANzFrG,EAOSsG,IAAD,CAA0BnG,KAAM,0BAA2BC,QAAS,CAACkG,eAP7EtG,EAQgB,CAACsG,EAAoB7H,KAArB,CAA0C0B,KAAM,kCAAmCC,QAAS,CAACkG,YAAW7H,YAQxHgI,EAAuB,CAACd,EAAqBjD,EAAqBoD,IAC9DjF,MAAOE,EAAU2F,KAC9B3F,EAASf,EAAuB2F,IAChC5E,EAASf,EAAkB0C,IAC3B3B,EAASf,GAAwB,IACjC,IAAIjB,QAAa0G,EAASC,SAASC,EAAajD,EAAQoD,GACxD/E,EAASf,GAAwB,IACjCe,EAASf,EAAiBjB,EAAK4H,QAC/B5F,EAASf,EAA2BjB,EAAK6H,cAuB9BC,MA3GM,WAAwE,IAAvEvE,EAAsE,uDAA9D6D,EAAc5D,EAAgD,uCACxF,OAAQA,EAAOpC,MACX,IAAK,eACD,MAAO,IACAmC,EACH8D,MAAO9D,EAAM8D,MAAMU,KAAIC,GACfA,EAAEnH,KAAO2C,EAAOnC,QAAQoG,OACjB,IAAIO,EAAGC,UAAU,GAEjBD,KAIvB,IAAK,iBACD,MAAO,IACAzE,EACH8D,MAAO9D,EAAM8D,MAAMU,KAAIC,GACfA,EAAEnH,KAAO2C,EAAOnC,QAAQoG,OACjB,IAAIO,EAAGC,UAAU,GAEjBD,KAIvB,IAAK,kBACD,MAAO,IACAzE,EACH8D,MAAO,IAAI7D,EAAOnC,QAAQgG,QAElC,IAAK,yBACD,MAAO,IACA9D,EACHqD,YAAapD,EAAOnC,QAAQuF,aAEpC,IAAK,8BACD,MAAO,IACArD,EACH+D,gBAAiB9D,EAAOnC,QAAQiG,iBAExC,IAAK,0BACD,MAAO,IACA/D,EACHgE,UAAW/D,EAAOnC,QAAQkG,WAElC,IAAK,kCACD,MAAO,IACAhE,EACHiE,kBAAmBhE,EAAOnC,QAAQkG,UAC9B,IAAIhE,EAAMiE,kBAAmBhE,EAAOnC,QAAQ3B,QAC5C6D,EAAMiE,kBAAkB7D,QAAO9C,GAAMA,IAAO2C,EAAOnC,QAAQ3B,UAEvE,IAAK,mBACD,MAAO,IAAI6D,EAAOI,OAAQH,EAAOnC,QAAQsC,QAE7C,QACI,OAAOJ,ICXJ2E,MAnDmB,IAA2C,IAA1C,KAACC,EAAD,kBAAOX,KAAsBpB,GAAY,EACxE,MAAMpE,EAAWoG,cACXjB,EAAUzH,IACZsC,EDoG2BtC,IAA8BoC,UAC7DE,EAASf,GAAgC,EAAMvB,WAC9BgH,EAASS,OAAOzH,IACxByC,aAAeC,IAAeC,SACnCL,EAASf,EAAevB,IAE5BsC,EAASf,GAAgC,EAAOvB,KC1GnC2I,CAAmB3I,KAE1BwH,EAAYxH,IACdsC,EDwF6BtC,IAA8BoC,UAC/DE,EAASf,GAAgC,EAAMvB,WAC9BgH,EAASQ,SAASxH,IAC1ByC,aAAeC,IAAeC,SACnCL,EAASf,EAAiBvB,IAE9BsC,EAASf,GAAgC,EAAOvB,KC9FnC4I,CAAqB5I,KAGlC,OACE,sBAAK6I,UAAWC,IAAEL,KAAlB,UACgB,uBAAMI,UAAWC,IAAEC,YAAnB,UACI,8BACI,cAAC,IAAD,CAASrE,GAAE,mBAAc+D,EAAKtH,IAA9B,SACA,qBAAK0H,UAAWC,IAAEE,UACbC,IAAK,YACLC,IAA0B,MAArBT,EAAKvG,OAAOiH,MAAgBV,EAAKvG,OAAOiH,MAAQH,UAI1DtC,EAAMT,OACJ,8BACKwC,EAAKF,SACJ,wBAAQa,SAAUtB,EACfuB,MAAKlI,GAAMA,IAAOsH,EAAKtH,KAAKmI,QAAS,KACpC9B,EAASiB,EAAKtH,KAFlB,oBAIA,wBAAQiI,SAAUtB,EACfuB,MAAKlI,GAAMA,IAAOsH,EAAKtH,KAAKmI,QAAS,KACpC7B,EAAOgB,EAAKtH,KAFhB,wBAIG,MAG/B,sBAAK0H,UAAWC,IAAES,SAAlB,UACI,sBAAKV,UAAWC,IAAEU,aAAlB,UACI,qBAAKX,UAAWC,IAAEW,SAAlB,SACKhB,EAAKjE,OAEV,8BACKiE,EAAKjI,YAGd,qBAAKqI,UAAWC,IAAEY,qBAjCGjB,EAAKtH,K,iBCNjC,MAAMwI,EAA0B,IAA6E,IAA5E,gBAAC/B,EAAD,SAAkBP,EAAlB,YAA4BH,EAAc,EAA1C,OAA6CjD,EAA7C,YAAqD2F,EAAc,IAAQ,EAC/G,MAAMtH,EAAWoG,cACXmB,EAAUC,cAUhB,IAAIC,EAAaC,KAAKC,KAAKrC,EAAkBP,GACzC6C,EAAuB,GAC3B,IAAK,IAAI9G,EAAI,EAAGA,GAAK2G,EAAY3G,IAC7B8G,EAAMC,KAAK/G,GAGf,IAAIgH,EAAgBJ,KAAKC,KAAKF,EAAaH,IACtCS,EAAeC,GAAoBC,mBAAS,GAC7CC,GAAqBH,EAAgB,GAAKT,EAAc,EACxDa,EAAqBJ,EAAgBT,EACzC,OACI,sBAAKf,UAAWC,IAAEoB,MAAlB,UAEQG,EAAgB,GAAK,uBAAMxB,UAAWC,IAAE4B,aAAcpB,QAAS,KAC3DgB,EAAiBD,EAAgB,IADhB,UAElB,qBAAKpB,IAAK,aAAcC,IC7C5B,+ySD2CsB,OAKrBgB,EAAMjG,QAAOC,GAAKA,GAAKsG,GAAqBtG,GAAKuG,IAC5CpC,KAAInE,GACO,sBACMoF,QAAS,KA9BpBqB,MACnBrI,EAAS0F,EADU2C,EA+B6BzG,EA9BND,EAAQoD,IAClDwC,EAAQM,KAAK,CACTS,SAAU,QACVrH,OAAQsH,GAAsB5G,EAAQ0G,MA6BZ9B,UAAWC,IAAEgC,SAAW,KAAO5D,IAAgBhD,EAAI4E,IAAEiC,iBAAmB,IAJ9E,SAIoF7G,GAJzEA,KAQ3BmG,EAAgBD,GAAiB,sBAAMvB,UAAWC,IAAE4B,aAAcpB,QAAS,KACvEgB,EAAiBD,EAAgB,IADJ,SAE9B,qBAAMpB,IAAK,cAAeC,IE5D9B,ivS,sBCIR,MAIMjC,GAAW+D,cAJSnH,GACtBA,EAAMoH,UAAUtD,QAG+BA,GAC/CA,EAAM1D,QAAOqE,IAAK,MAGhB4C,GAAerH,GACjBA,EAAMoH,UAAU5D,SAGd8D,GAAsBtH,GACxBA,EAAMoH,UAAUrD,gBAGdwD,GAAkBvH,GACpBA,EAAMoH,UAAU/D,YAGdmE,GAAgBxH,GAClBA,EAAMoH,UAAUpD,UAGdyD,GAAwBzH,GAC1BA,EAAMoH,UAAUnD,kBAGdyD,GAAkB1H,GACpBA,EAAM2H,KAAKvF,OAITwF,GAAa5H,GACfA,EAAMoH,UAAUhH,O,cC4CZyH,OA/CehF,IAC1B,MAAMpE,EAAWoG,cACXf,EAAQgE,YAAY1E,IACpBI,EAAWsE,YAAYT,IACvBtD,EAAkB+D,YAAYR,IAC9BjE,EAAcyE,YAAYP,IAC1BvD,EAAY8D,YAAYN,IACxBvD,EAAoB6D,YAAYL,IAChCrF,EAAS0F,YAAYJ,IACrBtH,EAAS0H,YAAYF,IAErB5B,EAAUC,cACV8B,EAAWC,SAAkBhC,EAAQvE,SAAS/B,OAAOD,MAAM,IAEjE,IAAIwI,EAAe7H,EACf8H,EAAa7E,EAYjB,OAVK0E,EAASI,OAAMD,EAAaE,OAAOL,EAASI,OAC5CJ,EAASzE,OAAM2E,EAAe,IAAIA,EAAc3E,KAAMyE,EAASzE,OAC/DyE,EAASxE,SAAQ0E,EAAe,IAAIA,EAAc1E,OAA4B,SAApBwE,EAASxE,SAIxE8E,qBAAU,KACN5J,EAAS0F,EAAqB+D,EAAYD,EAAczE,MACzD,IAEK,qCACCQ,EAAY,cAACjB,EAAA,EAAD,IAAe,KAC5B,sBAAKiC,UAAWC,IAAEnB,MAAlB,UACI,cAACwE,GAAD,CAAiBhF,KAAM2E,EAAa3E,KAAMC,OAAQ0E,EAAa1E,OAASC,SAAUA,IAClF,cAACsC,EAAD,CAAW/B,gBAAiBA,EACjBP,SAAUA,EACVH,YAAaA,EACbjD,OAAQA,IAGf0D,EAAMU,KAAIC,GAAK,cAAC,EAAD,CACXG,KAAMH,EACNR,kBAAmBA,EACnB7B,OAAQA,aAehC,MAWa4E,GAAwB,SAAC5G,GAAkC,IAAd+H,EAAa,uDAAN,EACzDI,EAAe7E,OAAOtD,EAAOmD,QAC7BiF,EAAgB,eAAWL,GAU/B,MAToB,SAAjBI,GAA2BnI,EAAOkD,OACjCkF,EAAgB,eAAWL,EAAX,mBAA0BI,EAA1B,iBAA+CnI,EAAOkD,OAEtD,SAAjBiF,GAA2BnI,EAAOkD,OACjCkF,EAAgB,eAAWL,EAAX,iBAAwB/H,EAAOkD,OAE/B,SAAjBiF,GAA4BnI,EAAOkD,OAClCkF,EAAgB,eAAWL,EAAX,mBAA0BI,IAEvCC,GAGLF,GAAwCzF,IAC1C,MAAMpE,EAAWoG,cACXmB,EAAUC,cAQVwC,EAA4B,CAACnF,KAAMT,EAAMS,KAAMC,OAAQV,EAAMU,QACnE,OACI,gCACI,4EACA,cAAC,IAAD,CACIkF,cAAeA,EACfC,SAAU,CAACC,EAAD,KAA0C,IAArB,cAACC,GAAmB,EAbtCxI,MACrB3B,EAAS0F,EAAqB,EADT/D,EAcOuI,EAba9F,EAAMW,WAC/CwC,EAAQM,KAAK,CACTS,SAAU,QACVrH,OAAQsH,GAAsB5G,EAAQ,MAOtC,SAMK,QAAC,aAACyI,GAAF,SACG,eAAC,IAAD,WACI,cAAC,IAAD,CAAOhL,KAAK,OAAO8C,KAAK,SACxB,cAAC,IAAD,CAAcA,KAAK,OAAOmI,UAAU,QACpC,uBAAOC,QAAQ,SAAf,qBACA,eAAC,IAAD,CAAOD,UAAU,SACVxL,GAAG,SACHqD,KAAK,SAFZ,UAGI,wBAAQqI,MAAM,OAAd,iBACA,wBAAQA,MAAM,OAAd,qBACA,wBAAQA,MAAM,QAAd,4BAEJ,wBAAQnL,KAAK,SAAb,4B,6DC7IxB,MAAMoL,GAAcC,aAAU,IACxBC,GAAcD,aAAU,IAoCjBE,GAAuCvG,GAE5C,gCACI,8BAAK,qBAAKuC,IAAK,UAAWC,IAAKxC,EAAMR,eACpCgH,kBAAkClJ,EAAW,UAAW,CAACmJ,KAAUH,IAAcI,SAS/EC,OAJeC,aAA6C,CACvEC,KAAM,SADoBD,EAvC2E5G,GAEjG,mCACI,uBAAM6F,SAAU7F,EAAM8G,aAAtB,UACI,8BACKN,aAAoC,QAAS,QAAS,CAACC,KAAUL,IAAcM,QAEpF,8BACKF,aAAoC,WAAY,WAAY,CAACC,KAAUL,IAAcM,QAE1F,8BACKF,kBAAoClJ,EAAW,aAAc,GAAIoJ,KAAO,CAAC1L,KAAM,YAAa,iBAEhGgF,EAAM+G,OAAS,qBAAK5E,UAAWC,KAAE4E,iBAAlB,SACXhH,EAAM+G,QAGP/G,EAAMR,WAAa,cAAC+G,GAAD,CAAS/G,WAAYQ,EAAMR,aAAgB,GAIlE,8BAEI,wBAAQxE,KAAM,SAAd,4BCTLiM,OApBc,KACzB,MAAMzH,EAAayF,aAAa9H,GAAwBA,EAAM2H,KAAKtF,aAC7DD,EAAS0F,aAAa9H,GAAwBA,EAAM2H,KAAKvF,SACzD3D,EAAWoG,cAKjB,OAAIzC,EACO,cAAC,IAAD,CAAUvB,GAAI,aAIrB,gCACI,uCACA,cAAC,GAAD,CAAgBwB,WAAYA,EAAYqG,SAX9B3L,IACd0B,Ef4CkC1B,IAA2CwB,UACjF,MAAM,MAACwD,EAAD,SAAQC,GAAYjF,EAC1B,IAAIN,QAAamF,EAAQE,MAAMC,EAAOC,GAEtC,GADA+H,QAAQC,IAAIjN,GACRN,EAAKmC,aAAeC,IAAeC,QACnCL,EAASf,EAAsB,aACzBe,EAAS6D,UAEf,GAAI7F,EAAKmC,aAAe2C,IAAyB6H,QAAS,CACtD,IAAI3M,QAAa0F,EAAY8H,aACzBxN,EAAK0B,KACLM,EAASf,EAAsBjB,EAAK0B,UAErC,CACH,IAAImB,EAAe7C,EAAK2C,SAASC,OAAS,EAAI5C,EAAK2C,SAAS,GAAK,aACjEX,EAASmB,YAAW,QAAS,CAACsK,OAAQ5K,Oe3DjC6K,CAA0BpN,W,sEC6B5BqN,OA/BO,KAClB,MAAMhI,EAAS0F,aAAa9H,GAAwBA,EAAM2H,KAAKvF,SACzDN,EAAQgG,aAAa9H,GAAwBA,EAAM2H,KAAK7F,QACxDrD,EAAWoG,cACjB,OACI,cAAC,KAAD,CAAQG,UAAU,SAAlB,SAEI,eAAC,KAAD,WACI,cAAC,KAAD,CAAKqF,KAAM,GAAX,SACI,eAAC,IAAD,CAAMC,aAAc,GAAIC,MAAM,OAAOC,KAAK,aAA1C,UACI,cAAC,IAAKC,KAAN,UAAmB,cAAC,IAAD,CAAM5J,GAAI,WAAV,mBAAJ,KACf,cAAC,IAAK4J,KAAN,UAAmB,cAAC,IAAD,CAAM5J,GAAI,WAAV,sBAAJ,KACf,cAAC,IAAK4J,KAAN,UAAmB,cAAC,IAAD,CAAM5J,GAAI,SAAV,yBAAJ,UAGvB,cAAC,KAAD,CAAKwJ,KAAM,EAAX,SACI,qBAAKrF,UAAWC,KAAEyF,WAAlB,SACKtI,EACG,gCACI,yCAAUN,KACV,cAAC,KAAD,CAAQkD,UAAWC,KAAE0F,eAAgBC,MAAO,CAAEC,gBAAiB,WAAaC,KAAM,cAACC,EAAA,EAAD,MAClF,cAAC,KAAD,CAAQlN,KAAM,UACN4H,QAAS,IAAMhH,GhB4CQF,iBAC1CqD,EAAQoJ,UAChBpM,aAAeC,IAAeC,UACnCL,EAASf,EAAwB,KAAM,KAAM,MAAM,IACnDe,EAAS,CAACZ,KAAM,kBgBjDQ,uBAGF,cAAC,IAAD,CAAMgD,GAAG,SAAT,6B,+BC7B9B,IAAIoK,GAEJ,MAAMC,GAAkB,KACpBC,GAAY,iBAAiBC,SAAQnG,GAAKA,EAAE,aAC5CoG,WAAWC,GAAkB,MAG3BC,GAAS,KAAO,IAAD,UACf,QAAF,EAAAN,UAAA,SAAIO,oBAAoB,QAASN,IAC/B,QAAF,EAAAD,UAAA,SAAIO,oBAAoB,UAAWC,IACjC,QAAF,EAAAR,UAAA,SAAIO,oBAAoB,QAASE,IAC/B,QAAF,EAAAT,UAAA,SAAIO,oBAAoB,OAAQG,IAC9B,QAAF,EAAAV,UAAA,SAAIW,SAGR,SAASF,KACLP,GAAY,iBAAiBC,SAAQnG,GAAKA,EAAE,WAGhD,SAAS0G,KACLR,GAAY,iBAAiBC,SAAQnG,GAAKA,EAAE,WAIhD,MAAMqG,GAAmB,KACrBC,KACAN,GAAK,IAAIY,UAAU,gEACnBZ,GAAGa,iBAAiB,QAASZ,IAC7BD,GAAGa,iBAAiB,QAASJ,IAC7BT,GAAGa,iBAAiB,OAAQH,IAC5BV,GAAGa,iBAAiB,UAAWL,KAI7BA,GAAoBM,IACtB,MAAMC,EAAcC,KAAKC,MAAMH,EAAEtP,MACjC0O,GAAY,qBAAqBC,SAAQnG,GAAKA,EAAE+G,MAGpD,IAAIb,GAAc,CACd,oBAAsB,GACtB,gBAAiB,IAGd,MAAMgB,GACF,KACHb,MAFKa,GAIH,KACFhB,GAAY,qBAAuB,GACnCA,GAAY,iBAAmB,GAC/BI,MAPKY,GASE,CAACC,EAAgCC,KAExClB,GAAYiB,GAAW9F,KAAK+F,IAXvBF,GAaI,CAACC,EAAgCC,KAE1ClB,GAAYiB,GAAWhM,QAAO6E,GAAKA,IAAMoH,KAfpCF,GAiBK5O,IAAqB,IAAD,EAC5B,QAAF,EAAA0N,UAAA,SAAIqB,KAAK/O,I,yBC5DjB,MAAMH,GAAe,CACjBgC,SAAU,GACVzC,OAAQ,WAmBCe,GACU0B,IAAD,CAA+BvB,KAAM,yBAA0BC,QAAS,CAACsB,cADlF1B,GAEOf,IAAD,CAA6BkB,KAAM,sBAAuBC,QAAS,CAACnB,YAIvF,IAAI4P,GAAiE,KACrE,MAAMC,GAA4B/N,IACH,OAAvB8N,KACAA,GAAsBnN,IAClBX,EAASf,GAAyB0B,MAGnCmN,IAGX,IAAIE,GAA6D,KACjE,MAAMC,GAA0BjO,IACH,OAArBgO,KACAA,GAAoB9P,IACd8B,EAASf,GAAsBf,MAGlC8P,IAoBIE,OA1DY,WAAkE,IAAjE3M,EAAgE,uDAAxD5C,GAAc6C,EAA0C,uCACxF,OAAQA,EAAOpC,MACX,IAAK,yBACD,MAAO,IACAmC,EAAOZ,SAAU,IAAIY,EAAMZ,YAAaa,EAAOnC,QAAQsB,SAASoF,KAAIoI,IAAC,IAASA,EAAGtP,GAAIuP,KAAKC,UAAS1M,QAAO,CAAC2M,EAAIC,EAAOC,IAAUD,GAASC,EAAM5N,OAAS,MAEnK,IAAK,sBACD,MAAO,IACAW,EAAOrD,OAAQsD,EAAOnC,QAAQnB,QAEzC,QACI,OAAOqD,ICPnB,MAMMkN,GAAWC,IAAMC,MAAK,KAGxB,MAAM3O,EAAWoG,cAQjB,OANAwD,qBAAU,KACN5J,GDyBmDF,UACvD4N,KACAA,GAAkB,oBAAqBK,GAAyB/N,IAChE0N,GAAkB,gBAAiBO,GAAuBjO,OC3B/C,KACHA,GD6B8CF,UACtD4N,KACAA,GAAoB,oBAAqBK,GAAyB/N,IAClE0N,GAAoB,gBAAiBO,GAAuBjO,UC9BzD,IAEC,gCACI,cAAC4O,GAAD,IACA,cAACC,GAAD,UAKND,GAAmBF,IAAMC,MAAK,IAAS,MAAD,EAExC,MAAMhO,EAAW0I,aAAa9H,GAAwBA,EAAMuN,KAAKnO,WAC3DoO,EAAmBC,iBAAuB,OACzCC,EAAiBC,GAAsBjH,oBAAS,GAgBvD,OANA2B,qBAAU,KACe,IAAD,EAAjBqF,IACiB,OAAhBF,QAAgB,IAAhBA,GAAA,UAAAA,EAAkBI,eAAlB,SAA2BC,eAAe,CAACC,SAAU,SAAUC,MAAO,WAE3E,CAAC3O,IAGA,sBAAKwL,MAAO,CAACoD,OAAQ,QAASC,UAAW,QAASC,SAhB7BnC,IACrB,MAAMoC,EAAQpC,EAAEqC,cACZD,EAAME,aAAeF,EAAMG,WAAaH,EAAMI,cAC7Cb,GAAmBC,GAAmB,GAEvCD,GAAmBC,GAAmB,IAW1C,UACKvO,EAASoF,KAAI,CAACoI,EAAGI,IAAU,cAACwB,GAAD,CAAoBjR,QAASqP,GAAfA,EAAEtP,MAC5C,qBAAKmR,IAAKjB,UAKhBgB,GAAwCrB,IAAMC,MAAK,IAAgB,IAAf,QAAC7P,GAAa,EAGpE,OAFAwM,QAAQC,IAAI,oBAGR,gCACKzM,EAAQT,MAAQ,qBAAK8N,MAAO,CAAC8D,MAAO,OAAQC,YAAa,OAAQtJ,IAAK9H,EAAQT,QAC3E,cAAC,KAAD,CAAQ8N,MAAO,CAACC,gBAAiB,UAAW6D,MAAO,OAAQC,YAAa,OAChE7D,KAAM,cAACC,EAAA,EAAD,MAClB,4BAAIxN,EAAQqI,WACZ,8BAAMrI,EAAQA,UACd,6BAWN+P,GAAyBH,IAAMC,MAAK,IAAS,MAAD,EAC9C,MAAOwB,EAAYC,GAAiBnI,mBAAS,IACvCoI,EAAchH,aAAa9H,GAAwBA,EAAMuN,KAAK5Q,SAC9D8B,EAAWoG,cAQjB,OACI,sBAAKG,UAAW4F,KAAMmE,eAAtB,UACI,cAACC,GAAA,EAAD,CAAUhG,MAAO4F,EAAYK,SAAUlD,GAAK8C,EAAc9C,EAAEmD,OAAOlG,OACzDmG,YAAa,qBACvB,cAAC,KAAD,CAAQ5J,SAA0B,UAAhBuJ,EAAyBrJ,QAX7B,KD7BOlI,MC8BrBqR,IACAnQ,GD/BqBlB,EC+BKqR,ED/B8BrQ,UAChE4N,GAAoB5O,MC+BZsR,EAAc,MAQqDhR,KAAM,UAAzE,uBAMGuR,OA/FM,IAGb,cAAClC,GAAD,ICFR,MAAM,QAACmC,IAAWC,KACZ,QAACC,GAAD,OAAUC,GAAV,MAAkBC,IAASC,IAE3BC,GAAmBxC,IAAMyC,MAAK,IAAM,gCACpCC,GAAmB1C,IAAMyC,MAAK,IAAM,gCAIpCE,GAAmBnN,EAAsBgN,IACzCI,GAAmBpN,EAAsBkN,IAgFhCG,OA9EQ,KACnB,MAAMvR,EAAWoG,cACXrC,EAAcsF,aAAa9H,GAAwBA,EAAMiQ,IAAIzN,cAMnE,OALA6F,qBAAU,KACN5J,GnBFoCA,IACxC,IAAIyR,EAAUzR,EAAS6D,KACvBzC,QAAQsQ,IAAI,CAACD,IACV3T,MAAK,KACAkC,EAASgE,amBDd,IAGED,EAID,cAAC,IAAD,UACI,eAAC,IAAD,WACI,cAAC,GAAD,IACA,eAAC+M,GAAD,CAAS3E,MAAO,CAACwF,QAAS,UAA1B,UACI,eAAC,IAAD,CAAYxF,MAAO,CAACyF,OAAQ,UAA5B,UACI,cAAC,IAAW5F,KAAZ,mBACA,cAAC,IAAWA,KAAZ,mBACA,cAAC,IAAWA,KAAZ,qBAEJ,eAAC,IAAD,CAAQzF,UAAU,yBAAyB4F,MAAO,CAACwF,QAAS,UAA5D,UACI,cAACX,GAAD,CAAOzK,UAAU,yBAAyB0J,MAAO,IAAjD,SACI,eAAC,IAAD,CACIlE,KAAK,SAGLI,MAAO,CAACoD,OAAQ,QAJpB,UAMI,eAACqB,GAAD,CAAoBvE,KAAM,cAACC,EAAA,EAAD,IAAiBuF,MAAM,UAAjD,UACI,cAAC,IAAK7F,KAAN,UACI,cAAC,IAAD,CAAM5J,GAAG,WAAT,sBADW,KAGf,cAAC,IAAK4J,KAAN,UACI,cAAC,IAAD,CAAM5J,GAAG,WAAT,sBADW,KAGf,cAAC,IAAK4J,KAAN,UACI,cAAC,IAAD,CAAM5J,GAAG,QAAT,mBADW,OAPN,QAWb,cAACwO,GAAD,CAAoBvE,KAAM,cAACyF,EAAA,EAAD,IAAmBD,MAAM,aAAnD,SACI,cAAC,IAAK7F,KAAN,UACI,cAAC,IAAD,CAAM5J,GAAG,SAAT,oBADW,MADN,QAMb,eAACwO,GAAD,CAAoBvE,KAAM,cAAC0F,EAAA,EAAD,IAAyBF,MAAM,gBAAzD,UACI,cAAC,IAAK7F,KAAN,UACI,cAAC,IAAD,CAAM5J,GAAG,QAAT,mBADW,KAGf,cAAC,IAAK4J,KAAN,UACI,cAAC,IAAD,CAAM5J,GAAG,SAAT,oBADW,OAJN,aAUrB,cAAC0O,GAAD,CAAS3E,MAAO,CAACwF,QAAS,SAAUK,UAAW,KAA/C,SACI,eAAC,IAAD,WACI,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,OAAQ,IAAM,cAAC,IAAD,CAAU/P,GAAI,eAClD,cAAC,IAAD,CAAO8P,KAAK,WAAWC,OAAQ,IAAM,cAACd,GAAD,MACrC,cAAC,IAAD,CAAOa,KAAK,oBAAoBC,OAAQ,IAAM,cAACb,GAAD,MAC9C,cAAC,IAAD,CAAOY,KAAK,YAAY7H,UAAW9F,IACnC,cAAC,IAAD,CAAO2N,KAAK,QAAQ7H,UAAW7F,IAC/B,cAAC,IAAD,CAAO0N,KAAK,SAAS7H,UAAW5F,IAChC,cAAC,IAAD,CAAOyN,KAAK,SAASC,OAAQ,IAAM,cAAC,GAAD,MACnC,cAAC,IAAD,CAAOD,KAAK,SAASC,OAAQ,IAAM,cAAC,GAAD,MACnC,cAAC,IAAD,CAAOD,KAAK,QAAQC,OAAQ,IAAM,cAAC,GAAD,MAClC,cAAC,IAAD,CAAOD,KAAK,IAAIC,OAAQ,IAAM,6DAK9C,cAACpB,GAAD,CAAQ5E,MAAO,CAACiG,UAAW,UAA3B,8DA/DD,cAAC9N,EAAA,EAAD,K,6BCvCf,IAAI3F,GAAe,CACf0T,QAAS,CACL,CACIxT,GAAI,EACJqD,KAAM,SACNG,OAAQ,8FAEZ,CACIxD,GAAI,EACJqD,KAAM,OACNG,OAAQ,qJAEZ,CACIxD,GAAI,EACJqD,KAAM,QACNG,OAAQ,2EAULiQ,OAJQ,WAAkE,IAAjE/Q,EAAgE,uDAAxD5C,GAC5B,OAAO4C,G,oBCXX,IAAIgR,GAAcC,aAAgB,CAC9BhB,IAAKvN,EACLwO,YAAanR,KACboR,YAAalQ,KACbmQ,QAASL,GACT3J,UAAW7C,EACXoD,KAAMpF,EACNmH,KAAM2H,KACN9D,KAAMZ,KAYV,MAAM2E,GAAmB/Q,OAAOgR,sCAAwCC,KAClEC,GAAQC,aAAYV,GAAmCM,GAC3DK,aAAgBC,QAIlBrR,OAAOkR,MAAQA,GAEAA,UC9BfI,IAASjB,OACP,cAAC,IAAD,CAAUa,MAAOA,GAAjB,SACQ,cAAC,GAAD,MAENK,SAASC,eAAe,S1BoHtB,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAM3V,MAAK4V,IACjCA,EAAaC,iB,mB2BlInBrW,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,KAAO,oBAAoB,UAAY,yBAAyB,YAAc,2BAA2B,SAAW,wBAAwB,SAAW,wBAAwB,aAAe,4BAA4B,cAAgB,+B,gCCDzR,gJAKA,MAAMqW,EAAkBC,GACb,IAAmC,IAAlC,MAACC,EAAD,KAAQC,KAAS3P,GAAgB,EACrC,MAAM4P,EAAWD,EAAK5I,OAAS4I,EAAKE,QACpC,OACE,sBAAK1N,UAAWC,IAAE0N,aAAe,KAAOF,EAAWxN,IAAE2E,MAAQ,IAA7D,UACI,gCACI,cAAC0I,EAAD,IAAaC,KAAW1P,EAAOsM,YAAatM,EAAMsM,cAAwBtM,EAAM+P,QAEpF,+BAAOH,EAAWD,EAAK5I,MAAQ,SAOtC,SAASP,EAAyC8F,EACvDxO,EACAkS,EACA/J,GACwB,IAAxBjG,EAAuB,uDAAf,GAAI+P,EAAW,uDAAJ,GACjB,OAAQ,8BACJ,cAAC,IAAD,CAAOzD,YAAaA,EACbxO,KAAMA,EACNmS,SAAUD,EACV/J,UAAWA,EACX8J,KAAMA,KACF/P,MAKZ,MAAMkQ,EAAWV,EAAe,YAC1B9I,EAAQ8I,EAAe,U,gCCpCpC,oEAAO,MAAM/I,EAA+BN,IACxC,IAAGA,EAGH,MAAO,sBAGEE,EAAaA,GAA6CF,IACnE,GAAGA,GAASA,EAAM3J,OAAS6J,EACvB,MAAM,iBAAN,OAAwBA,EAAxB,c,yCCVO,MAA0B,6C,OCW1BnG,IARWF,GAEpB,8BACI,qBAAKwC,IAAK2N,EAAW5N,IAAK,iB,mBCLpCrJ,EAAOC,QAAU,CAAC,MAAQ,yBAAyB,SAAW,4BAA4B,iBAAmB,oCAAoC,aAAe,kC,mBCAhKD,EAAOC,QAAU,CAAC,aAAe,sCAAsC,MAAQ,+BAA+B,iBAAmB,6C","file":"static/js/main.f8276d14.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"header__avatar\":\"Header_header__avatar__3FLrj\",\"loginBlock\":\"Header_loginBlock__6mma5\"};","import {PhotosType, ProfileType} from \"../types/types\";\nimport {DefaultResponseType, instance} from \"./api\";\n\nexport const profileAPI = {\n    getProfile(userId: number) {\n        return instance.get<ProfileType>(`profile/${userId}`);\n    },\n    getStatus(userId: number) {\n        return instance.get<string>(`profile/status/${userId}`).then(res => res.data)\n    },\n    updateStatus(status: string) {\n        return instance.put<DefaultResponseType>(`profile/status`, {status}).then(res => res.data)\n    },\n    updatePhoto(photo: string) {\n        const formData = new FormData();\n        formData.append('image', photo)\n        return instance.put<DefaultResponseType<PhotosType>>(`profile/photo`, formData).then(res => res.data)\n    },\n    updateProfile(profileData: ProfileType) {\n        return instance.put<DefaultResponseType>(`profile`, profileData).then(res => res.data)\n    }\n}","import {ResultCodeEnum} from \"../../api/api\";\nimport {stopSubmit} from \"redux-form\";\nimport {PhotosType, PostType, ProfileType} from \"../../types/types\";\nimport {profileAPI} from \"../../api/profileAPI\";\nimport {BaseThunkType, InferActionsTypes} from \"../redux_store\";\n\nlet initialState = {\n    posts: [\n        {id: 1, message: \"Hello!\", likesCount: 12},\n        {id: 2, message: \"Hello! AWESOME!\", likesCount: 14},\n        {id: 3, message: \"Hello! WONDERFULL!\", likesCount: 15},\n        {id: 4, message: \"Hello! BEAUTIFULL!\", likesCount: 12},\n        {id: 5, message: \"Hello! COOL!\", likesCount: 111},\n        {id: 6, message: \"Hello! WELL!\", likesCount: 152},\n    ] as Array<PostType>,\n    profile: null as ProfileType | null,\n    status: '' as string | null,\n}\nexport type InitialStateProfileType = typeof initialState;\ntype ACTIONS = InferActionsTypes<typeof actions>\nexport type ProfileThunkType = BaseThunkType<ACTIONS | ReturnType<typeof stopSubmit>>\n\nconst profileReducer = (state = initialState, action: ACTIONS): InitialStateProfileType => {\n\n    switch (action.type) {\n        case 'profile/ADD_POST':\n            let newPost = {\n                id: (state.posts.length + 1),\n                message: action.payload.postText,\n                likesCount: 0,\n            };\n            if (newPost.message === undefined) {\n                return state;\n            }\n            return {\n                ...state,\n                posts: [...state.posts, newPost],\n            }\n        case 'profile/DELETE_POST':\n            return {\n                ...state,\n                posts: state.posts.filter(p => p.id !== action.payload.postId),\n            }\n\n        case 'profile/SET_USER_PROFILE':\n            return {\n                ...state,\n                profile: action.payload.profile,\n\n            }\n        case 'profile/OPEN_URL':\n            let url = action.payload.url;\n            if (url.includes('https://', 0) || url.includes('http://', 0)) {\n                window.open(url, \"_blank\") //to open new page\n            } else {\n                url = 'http://' + url;\n                window.open(url, \"_blank\") //to open new page\n            }\n            return {\n                ...state,\n            }\n        case 'profile/SET_STATUS':\n            return {\n                ...state,\n                status: action.payload.status,\n            }\n        case 'profile/UPDATE_STATUS':\n            return {\n                ...state,\n                status: action.payload.status,\n            }\n        case 'profile/UPDATE_PROFILE_PHOTO': {\n            return {\n                ...state,\n                profile: {...state.profile, photos: action.payload.photos} as ProfileType\n            }\n        }\n        case 'profile/UPDATE_PROFILE_DATA': {\n            return {\n                ...state,\n                profile: {\n                    ...state.profile, ...action.payload.profileData,\n                    contacts: action.payload.profileData.contacts\n                }\n            }\n        }\n        default:\n            return state;\n    }\n}\n\nexport const actions = {\n    addPost: (postText: string) => ({type: 'profile/ADD_POST', payload: {postText}} as const),\n    deletePost: (postId: number) => ({type: 'profile/DELETE_POST', payload: {postId}} as const),\n    setUserProfile: (profile: ProfileType) => ({type: 'profile/SET_USER_PROFILE', payload: {profile}} as const),\n    openUrl: (url: string) => ({type: 'profile/OPEN_URL', payload: {url}} as const),\n    setStatus: (status: string) => ({type: 'profile/SET_STATUS', payload: {status}} as const),\n    updateStatus: (status: string) => ({type: 'profile/UPDATE_STATUS', payload: {status}} as const),\n    updatePhoto: (photos: PhotosType) => ({\n        type: 'profile/UPDATE_PROFILE_PHOTO',\n        payload: {photos: {...photos}}\n    } as const),\n    updateProfile: (profileData: ProfileType) => ({\n        type: 'profile/UPDATE_PROFILE_DATA',\n        payload: {profileData}\n    } as const)\n}\nexport const {addPost, openUrl, deletePost} = actions\n\n\nexport const getUserProfileThunkCreator = (userId: number): ProfileThunkType => async (dispatch) => {\n    let response = await profileAPI.getProfile(userId)\n    dispatch(actions.setUserProfile(response.data))\n}\nexport const getStatusProfileThunkCreator = (userId: number): ProfileThunkType => async (dispatch) => {\n    let response = await profileAPI.getStatus(userId)\n    dispatch(actions.setStatus(response))\n}\n\nexport const updateStatusProfileThunkCreator = (status: string): ProfileThunkType => async (dispatch) => {\n    let response = await profileAPI.updateStatus(status)\n    if (response.resultCode === ResultCodeEnum.Success) {\n        dispatch(actions.updateStatus(status))\n    }\n}\n\nexport const updateProfilePhotoThunkCreator = (photoFile: string): ProfileThunkType => async (dispatch) => {\n    let response = await profileAPI.updatePhoto(photoFile)\n    if (response.resultCode === ResultCodeEnum.Success) {\n        dispatch(actions.updatePhoto(response.data))\n    }\n}\n\nexport const updateProfileDataThunkCreator = (profileData: ProfileType): ProfileThunkType => async (dispatch) => {\n    let response = await profileAPI.updateProfile(profileData)\n    if (response.resultCode === ResultCodeEnum.Success) {\n        dispatch(actions.updateProfile(profileData))\n    } else {\n        let errorsMessages: any = {}\n        const errorsMessagesLength = response.messages.length;\n        let errorMessage;\n        if (errorsMessagesLength > 0) {\n            for (let i = 0; i < errorsMessagesLength; i++) {\n                errorMessage = response.messages[i];\n                let errorObject = errorMessage.slice(errorMessage.search('->')).slice(2, -1).toLowerCase();\n                if (errorObject === 'mainlink') errorObject = 'mainLink'\n                errorsMessages[errorObject] = errorMessage\n            }\n        } else {\n            errorMessage = 'Some error';\n        }\n        dispatch(stopSubmit('profileData', {\"contacts\": {...errorsMessages}}))\n        return Promise.reject(errorsMessages)\n    }\n}\n\nexport default profileReducer;","export default __webpack_public_path__ + \"static/media/user.03a0c317.png\";","import {InferActionsTypes} from \"../redux_store\";\n\ntype ACTIONS = InferActionsTypes<typeof actions>\n\nexport type DialogType = {\n    id: number\n    name: string\n}\nexport type MessageType = {\n    id: number\n    message: string\n    from: number\n    to: number\n    avatar: string\n}\n\nconst initialState = {\n    dialogs: [\n        {id: 1, name: 'Vlad',},\n        {id: 2, name: 'Matvei',},\n        {id: 3, name: 'Larisa',},\n        {id: 4, name: 'Ulya',},\n        {id: 5, name: 'Vitalya',},\n        {id: 6, name: 'Natasha',},\n    ] as Array<DialogType>,\n    messages: [\n        {\n            id: 1,\n            message: \"Hello!\",\n            from: 1,\n            to: 0,\n            avatar: \"https://www.diethelmtravel.com/wp-content/uploads/2016/04/bill-gates-wealthiest-person.jpg\",\n        },\n        {\n            id: 0,\n            message: \"Hello!\",\n            from: 0,\n            to: 1,\n            avatar: \"https://upload.wikimedia.org/wikipedia/commons/a/a0/Pierre-Person.jpg\",\n        },\n        {\n            id: 1,\n            message: \"How are you?\",\n            from: 1,\n            to: 0,\n            avatar: \"https://www.diethelmtravel.com/wp-content/uploads/2016/04/bill-gates-wealthiest-person.jpg\",\n        },\n        {\n            id: 0,\n            message: \"I'm fine! Thank you!!\",\n            from: 0,\n            to: 1,\n            avatar: \"https://upload.wikimedia.org/wikipedia/commons/a/a0/Pierre-Person.jpg\",\n        },\n        {\n            id: 1,\n            message: \"Good bye!\",\n            from: 1,\n            to: 0,\n            avatar: \"https://www.diethelmtravel.com/wp-content/uploads/2016/04/bill-gates-wealthiest-person.jpg\",\n        },\n        {\n            id: 0,\n            message: \"Bye!!!\",\n            from: 0,\n            to: 1,\n            avatar: \"https://upload.wikimedia.org/wikipedia/commons/a/a0/Pierre-Person.jpg\",\n        },\n    ] as Array<MessageType>\n}\nexport type InitialStateDialogsType = typeof initialState;\n\nconst dialogsReducer = (state = initialState, action: ACTIONS):InitialStateDialogsType  => {\n\n    switch (action.type) {\n        case \"dialogs/SEND_MESSAGE\":\n            let message: MessageType = {\n                id: 0,\n                message: action.payload.textMessage,\n                from: 0,\n                to: 1,\n                avatar: \"https://www.diethelmtravel.com/wp-content/uploads/2016/04/bill-gates-wealthiest-person.jpg\",\n            }\n            if (message.message === undefined) {\n                return state;\n            }\n            return {\n                ...state,\n                messages: [...state.messages, message],\n            }\n        default:\n            return {...state};\n\n\n    }\n}\n\nexport const actions = {\n    sendMessage: (textMessage: string) => ({type: 'dialogs/SEND_MESSAGE', payload: {textMessage}})\n}\nexport const {sendMessage} = actions\n\n\nexport default dialogsReducer;","import axios from \"axios\";\n\nexport const instance = axios.create(\n    {\n        withCredentials: true,\n        baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n        headers: {\n            \"API-KEY\": \"124f9d24-745a-49b7-8cca-f2efe4bf0d24\",\n        }\n    })\n\nexport enum ResultCodeEnum {\n    Success = 0,\n    Error = 1\n}\nexport enum ResultCodeForCaptchaEnum {\n    Captcha = 10\n}\n\nexport type GetItemsType<T> = {\n    items: Array<T>,\n    totalCount: number,\n    error: string | null\n}\n\nexport type DefaultResponseType<D = {}, RC = ResultCodeEnum> = {\n    data: D\n    resultCode: RC\n    messages: Array<string>\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"addMessageForm\":\"ChatPage_addMessageForm__2SIzn\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import {DefaultResponseType, instance, ResultCodeEnum, ResultCodeForCaptchaEnum} from \"./api\";\n\ntype LoginResponseType = {\n    id: number\n    email: string\n    login: string\n}\n\nexport const authAPI = {\n    authMe() {\n        return instance.get<DefaultResponseType<LoginResponseType>>(`auth/me`)\n            .then(response => response.data)\n    },\n    login(email: string | null , password: string | null) {\n        return instance.post<DefaultResponseType<{}, ResultCodeEnum | ResultCodeForCaptchaEnum>>(`auth/login`, {\n            email, password,\n        })\n            .then(response => response.data)\n    },\n    async logout() {\n        let response = await instance.delete<DefaultResponseType>(`auth/login`)\n        return response.data\n    },\n\n}","import {instance} from \"./api\";\n\ntype SecurityAPIGetCaptchaResponseType = {\n    url: string\n}\nexport const securityAPI = {\n    async getCaptcha() {\n        let response = await instance.get<SecurityAPIGetCaptchaResponseType>('security/get-captcha-url')\n        return response.data\n    },\n}","import {ResultCodeEnum, ResultCodeForCaptchaEnum} from \"../../api/api\"\nimport {stopSubmit} from \"redux-form\"\nimport {authAPI} from \"../../api/authAPI\";\nimport {securityAPI} from \"../../api/securityAPI\";\nimport {BaseThunkType, InferActionsTypes} from \"../redux_store\";\n\n\nlet initialState = {\n    userId: null as null | number,\n    email: null as null | string,\n    login: null as null | string,\n    isAuth: false as boolean,\n    captchaUrl: null as null | string,\n}\nexport type InitialStateAuthType = typeof initialState\nexport type AuthThunkType = BaseThunkType<ACTIONS | ReturnType<typeof stopSubmit>>\nexport type LoginFormType = {\n    email: null | string\n    password: null | string\n    rememberMe: true | false\n}\ntype ACTIONS = InferActionsTypes<typeof actions>\n\nconst authReducer = (state = initialState, action: ACTIONS): InitialStateAuthType => {\n    switch (action.type) {\n        case 'auth/SET_USER_DATA':\n            return {\n                ...state,\n                ...action.payload,\n            }\n        case 'auth/SET-CAPTCHA-URL':\n            return {\n                ...state,\n                captchaUrl: action.payload.captchaUrl\n            }\n        default:\n            return state;\n    }\n}\n\nexport const actions = {\n    setAuthUserData: (userId: number | null, email: string | null, login: string | null, isAuth: boolean) =>{\n        return ({type: 'auth/SET_USER_DATA', payload: {userId, email, login, isAuth}} as const)\n    },\n    setCaptchaUrl: (captchaUrl: string | null) => ({type: 'auth/SET-CAPTCHA-URL', payload: {captchaUrl}} as const)\n}\n\n\n\nexport const getAuthUserThunkCreator = (): AuthThunkType => async (dispatch) => {\n    let data = await authAPI.authMe()\n    if (data.resultCode === ResultCodeEnum.Success) {\n        let {id, email, login} = data.data;\n        dispatch(actions.setAuthUserData(id, email, login, true));\n    }\n}\n\nexport const loginAuthUserThunkCreator = (formData: LoginFormType): AuthThunkType => async (dispatch) => {\n    const {email, password} = formData\n    let data = await authAPI.login(email, password)\n    console.log(formData)\n    if (data.resultCode === ResultCodeEnum.Success) {\n        dispatch(actions.setCaptchaUrl(null))\n        await dispatch(getAuthUserThunkCreator())\n    } else {\n        if (data.resultCode === ResultCodeForCaptchaEnum.Captcha) {\n            let data = await securityAPI.getCaptcha()\n            if (data.url) {\n                dispatch(actions.setCaptchaUrl(data.url))\n            }\n        } else {\n            let errorMessage = data.messages.length > 0 ? data.messages[0] : 'Some error'\n            dispatch(stopSubmit('login', {_error: errorMessage}))\n        }\n    }\n}\n\nexport const logoutAuthUserThunkCreator = (): AuthThunkType => async (dispatch) => {\n    let data = await authAPI.logout()\n    if (data.resultCode === ResultCodeEnum.Success) {\n        dispatch(actions.setAuthUserData(null, null, null, false))\n        dispatch({type: 'asdasdasd'})\n    }\n}\n\nexport default authReducer","import {getAuthUserThunkCreator} from \"./auth_reducer\";\nimport {InferActionsTypes} from \"../redux_store\";\n\n\ntype ACTIONS = InferActionsTypes<typeof actions>\n\nlet initialState = {\n    initialized: false,\n}\n\n\nexport type initialStateType = typeof initialState;\n\nconst appReducer = (state = initialState, action : ACTIONS) : initialStateType => {\n    switch (action.type) {\n        case \"app/INITIALIZED_SUCCESS\":\n            return {\n                ...state,\n                initialized: true,\n            }\n\n        default:\n            return state;\n    }\n}\n\n\nexport const actions = {\n    setInitializedSuccessAC: () => ({type: 'app/INITIALIZED_SUCCESS'} as const)\n}\nexport const {setInitializedSuccessAC} = actions\n\nexport const setInitializedSuccess = () => (dispatch:any) => {\n    let promise = dispatch(getAuthUserThunkCreator())\n    Promise.all([promise])\n      .then(() => {\n            dispatch(setInitializedSuccessAC())\n        })\n}\n\n\nexport default appReducer;","import React, {Suspense} from 'react';\nimport Preloader from \"../../components/common/Preloader/Preloader\";\n\n\nexport function WithSuspenseComponent<WCP>(WrappedComponent: React.ComponentType<WCP> ){\n    let WrapperContainer = (props: WCP) => {\n        return (\n          <Suspense fallback={<Preloader/>}>\n              <WrappedComponent {...props}/>\n          </Suspense>\n        )\n    }\n    return WrapperContainer;\n}\n\n\nexport default WithSuspenseComponent;","import React, {FC} from 'react';\r\n\r\ntype PropsType = {\r\n\r\n}\r\n\r\nconst Settings: FC<PropsType> = () => {\r\n  return (\r\n      <div>\r\n        Settings\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default Settings;","import React, {FC} from 'react';\r\ntype PropsType = {\r\n\r\n}\r\n\r\nconst News: FC<PropsType> = () => {\r\n  return (\r\n      <div>\r\n        News\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default News;","import React, {FC} from 'react';\r\n\r\ntype PropsType = {\r\n\r\n}\r\n\r\nconst Music: FC<PropsType> = () => {\r\n  return (\r\n      <div>\r\n        Music\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default Music;","import {DefaultResponseType, GetItemsType, instance} from \"./api\";\nimport {UsersType} from \"../types/types\";\nimport {FilterType} from \"../redux/reducers/users_reducer\";\n\nexport const usersAPI = {\n    getUsers(currentPage: number, filter: FilterType = {term: '', friend: null}, pageSize: number) {\n        const filterFriend = String(filter.friend)\n        let url = `users?page=${currentPage}&count=${pageSize}`\n        if(filter.term && !filterFriend) {\n            url = `users?page=${currentPage}&count=${pageSize}&term=${filter.term}`\n        }\n        if(!filter.term && filterFriend) {\n            url = `users?page=${currentPage}&count=${pageSize}&friend=${filterFriend}`\n        }\n        if(filter.term && filterFriend) {\n            url = `users?page=${currentPage}&count=${pageSize}&friend=${filterFriend}&term=${filter.term}`\n        }\n\n        return instance.get<GetItemsType<UsersType>>(url)\n            .then(response => response.data)\n    },\n    unfollow(userId: number) {\n        return instance.delete<DefaultResponseType>(`follow/${userId}`)\n            .then(response => response.data)\n    },\n    follow(userId: number) {\n        return instance.post<DefaultResponseType>(`follow/${userId}`, {})\n            .then(response => response.data)\n    }\n}","import {ResultCodeEnum} from \"../../api/api\";\nimport {UsersType} from \"../../types/types\";\nimport {ThunkAction} from \"redux-thunk\";\nimport {InferActionsTypes} from \"../redux_store\";\nimport {usersAPI} from \"../../api/usersAPI\";\n\nlet InitialState = {\n    users: [] as Array<UsersType>,\n    pageSize: 5 as number,\n    totalUsersCount: 0 as number,\n    currentPage: 1 as number,\n    isLoading: true as boolean,\n    followingProgress: [] as Array<number>, // array of users ids\n    filter: {\n        term: '' as string | null,\n        friend: null as boolean | null\n    }\n}\n\ntype InitialStateUsersType = typeof InitialState\n\nconst usersReducer = (state = InitialState, action: ActionsTypes): InitialStateUsersType => {\n    switch (action.type) {\n        case 'users/FOLLOW':\n            return {\n                ...state,\n                users: state.users.map(u => {\n                    if (u.id === action.payload.userID) {\n                        return {...u, followed: true}\n                    } else {\n                        return u;\n                    }\n                }),\n            }\n        case 'users/UNFOLLOW':\n            return {\n                ...state,\n                users: state.users.map(u => {\n                    if (u.id === action.payload.userID) {\n                        return {...u, followed: false}\n                    } else {\n                        return u;\n                    }\n                }),\n            }\n        case 'users/SET_USERS':\n            return {\n                ...state,\n                users: [...action.payload.users],\n            }\n        case 'users/SET_CURRENT_PAGE':\n            return {\n                ...state,\n                currentPage: action.payload.currentPage,\n            }\n        case 'users/SET_TOTAL_USERS_COUNT':\n            return {\n                ...state,\n                totalUsersCount: action.payload.totalUsersCount,\n            }\n        case 'users/TOGGLE_IS_LOADING':\n            return {\n                ...state,\n                isLoading: action.payload.isLoading,\n            }\n        case 'users/TOGGLE_FOLLOWING_PROGRESS':\n            return {\n                ...state,\n                followingProgress: action.payload.isLoading ?\n                    [...state.followingProgress, action.payload.userId] :\n                    state.followingProgress.filter(id => id !== action.payload.userId)\n            }\n        case \"users/SET_FILTER\":\n            return {...state, filter: action.payload.filter}\n\n        default:\n            return state;\n    }\n}\ntype ActionsTypes = InferActionsTypes<typeof actions>\n\nexport const actions = {\n    follow: (userID: number) => ({type: 'users/FOLLOW', payload: {userID}} as const),\n    unfollow: (userID: number) => ({type: 'users/UNFOLLOW', payload: {userID}} as const),\n    setUsers: (users: Array<UsersType>) => ({type: 'users/SET_USERS', payload: {users}} as const),\n    setFilter: (filter: FilterType) => ({type: 'users/SET_FILTER', payload: {filter}} as const),\n    setCurrentPage: (currentPage: number) => ({type: 'users/SET_CURRENT_PAGE', payload: {currentPage}} as const),\n    setTotalUsersCount: (totalUsersCount: number) => ({type: 'users/SET_TOTAL_USERS_COUNT', payload: {totalUsersCount}} as const),\n    toggleIsLoading: (isLoading: boolean) => ({type: 'users/TOGGLE_IS_LOADING', payload: {isLoading}} as const),\n    toggleFollowingProgress: (isLoading: boolean, userId: number) => ({type: 'users/TOGGLE_FOLLOWING_PROGRESS', payload: {isLoading, userId}} as const)\n}\n\n\n// type DispatchType = Dispatch<ActionsTypes>\n// type GetStateType = () => InitialStateUsersType\ntype ThunkType = ThunkAction<Promise<void>, InitialStateUsersType, unknown, ActionsTypes>\n\nexport const getUsersThunkCreator = (currentPage: number, filter: FilterType,  pageSize: number):\n    ThunkType => async (dispatch, getState) => {\n    dispatch(actions.setCurrentPage(currentPage))\n    dispatch(actions.setFilter(filter))\n    dispatch(actions.toggleIsLoading(true))\n    let data = await usersAPI.getUsers(currentPage, filter, pageSize)\n    dispatch(actions.toggleIsLoading(false))\n    dispatch(actions.setUsers(data.items))\n    dispatch(actions.setTotalUsersCount(data.totalCount));\n}\n\nexport const unfollowThunkCreator = (userId: number): ThunkType => async (dispatch) => {\n    dispatch(actions.toggleFollowingProgress(true, userId))\n    let data = await usersAPI.unfollow(userId)\n    if (data.resultCode === ResultCodeEnum.Success) {\n        dispatch(actions.unfollow(userId))\n    }\n    dispatch(actions.toggleFollowingProgress(false, userId))\n}\n\nexport const followThunkCreator = (userId: number): ThunkType => async (dispatch) => {\n    dispatch(actions.toggleFollowingProgress(true, userId))\n    let data = await usersAPI.follow(userId)\n    if (data.resultCode === ResultCodeEnum.Success) {\n        dispatch(actions.follow(userId))\n    }\n    dispatch(actions.toggleFollowingProgress(false, userId))\n}\n\nexport type FilterType = (typeof InitialState.filter)\n\nexport default usersReducer;","import React from \"react\";\nimport s from '../Users.module.css';\nimport userPhoto from '../../../../assets/images/user.png';\nimport {NavLink} from \"react-router-dom\";\nimport {UsersType} from \"../../../../types/types\";\nimport {useDispatch} from \"react-redux\";\nimport {followThunkCreator, unfollowThunkCreator} from \"../../../../redux/reducers/users_reducer\";\n\ntype PropsType = {\n    user : UsersType,\n    followingProgress: Array<number>\n    isAuth: boolean,\n}\n\nconst User: React.FC<PropsType> = ({user, followingProgress, ...props} ) => {\n    const dispatch = useDispatch()\n    const follow = (userId: number) => {\n        dispatch(followThunkCreator(userId))\n    }\n    const unfollow = (userId: number) => {\n        dispatch(unfollowThunkCreator(userId))\n    }\n\n    return (\n      <div className={s.user} key={user.id}>\n                      <span className={s.userButtons}>\n                          <div>\n                              <NavLink to={`/profile/${user.id}`}>\n                              <img className={s.userPhoto}\n                                   alt={'userPhoto'}\n                                   src={user.photos.small != null ? user.photos.small : userPhoto}/>\n                                  </NavLink>\n                          </div>\n                          {\n                              props.isAuth ?\n                                <div>\n                                    {user.followed ?\n                                      <button disabled={followingProgress\n                                        .some(id => id === user.id)} onClick={() => {\n                                          unfollow(user.id)\n                                      }}>follow</button> :\n                                      <button disabled={followingProgress\n                                        .some(id => id === user.id)} onClick={() => {\n                                          follow(user.id)\n                                      }}>unfollow</button>}\n                                </div> : ''\n                          }\n                      </span>\n          <div className={s.userInfo}>\n              <div className={s.userInfoLeft}>\n                  <div className={s.userName}>\n                      {user.name}\n                  </div>\n                  <div>\n                      {user.status}\n                  </div>\n              </div>\n              <div className={s.userInfoRight}>\n                  {/*{user.country}*/}\n              </div>\n          </div>\n      </div>\n    )\n}\n\nexport default User;","import s from \"./Paginator.module.css\"\nimport React, {FC, useState} from \"react\";\nimport arrowRight from '../../../../assets/icons/arrowRight.png'\nimport arrowLeft from '../../../../assets/icons/arrowLeft.png'\nimport {useDispatch} from \"react-redux\";\nimport {FilterType, getUsersThunkCreator} from \"../../../../redux/reducers/users_reducer\";\nimport {useHistory} from \"react-router-dom\";\nimport {createSearchFilterUrl} from \"../Users\";\n\ntype PropsType = {\n    totalUsersCount: number\n    pageSize: number\n    // onPageChanged: (numberPage: number) => void\n    currentPage?: number\n    portionSize?: number\n    filter: FilterType\n}\n\nexport const Paginator:FC<PropsType> = ({totalUsersCount, pageSize, currentPage = 1, filter, portionSize = 10}) => {\n    const dispatch = useDispatch()\n    const history = useHistory()\n    const onPageChanged = (pageNumber: number) => {\n        dispatch(getUsersThunkCreator(pageNumber, filter, pageSize))\n        history.push({\n            pathname: 'users',\n            search: createSearchFilterUrl(filter, pageNumber)\n        })\n    }\n\n\n    let pagesCount = Math.ceil(totalUsersCount / pageSize);\n    let pages: Array<number> = [];\n    for (let i = 1; i <= pagesCount; i++) {\n        pages.push(i)\n    }\n\n    let portionsCount = Math.ceil(pagesCount / portionSize)\n    let [portionNumber, setPortionNumber] = useState(1)\n    let leftBorderPortion = (portionNumber - 1) * portionSize + 1\n    let rightBorderPortion = portionNumber * portionSize;\n    return (\n        <div className={s.pages}>\n            {\n                portionNumber > 1 && <span className={s.arrowsButton} onClick={() => {\n                    setPortionNumber(portionNumber - 1)\n                }}><img alt={'arrow left'} src={arrowLeft}/> </span>\n            }\n            {\n                pages.filter(p => p >= leftBorderPortion && p <= rightBorderPortion)\n                    .map(p => {\n                        return (<span key={p}\n                                      onClick={() => {\n                                          onPageChanged(p)\n                                      }}\n                                      className={s.pageItem + ' ' + (currentPage === p ? s.selectedPageItem : '')}>{p}</span>)\n                    })\n            }\n            {\n                portionNumber < portionsCount && <span className={s.arrowsButton} onClick={() => {\n                    setPortionNumber(portionNumber + 1)\n                }}><img  alt={'arrow right'} src={arrowRight}/></span>\n            }\n        </div>\n    )\n}","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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AAAQAQAEAAAAEAEABAAAABABAAQAAAAQAQAEAAAARAAABAAAAEQAAAQAAABEAAABAAAARAAAAQAAAEQAAAEAAABEAAABAAAARAAAAQAAAEQAAAEAAABEAAABAAAAEQAAAQAAABEAQAAAAAARAEAAAAAAEQBAAAAAABEAQAAAAAARAEAAAAAAEQBAAAAAABEAQAAAAAARAEAAAAAAEQAQAAAAQAQAEAAAAEAEABAAAABABAAQAAAAQAQAEAAAAEAEABAAAABABAAQAAAAQAQAEAAAAEAEABAAAABABAAEAAAAEAEABAAAABABAAQAAAAQAQAEAAAAEAEABAAAABABAAQAAAAQAQAEAAAAEAEABAAAABABAAEAAAAQAQABAAAAEAEAAQAAAEQAAAEAAABEAAABAAAARAAAAQAAAEQAAAEAAABEAAABAAAARABAAAAAAEQAQAAAAABEAEAAAAAARABAAAAAABEAQAAAAAARAEAAAAAAEQBAAAAAABEAQAAAAAARABAAnAAAAEQAQAAAAABEAEAAAAAARABAAAAAAEQAQAAAAABEAEAAAAAAEQBAAAAAABEAQAAAAAARAEAAAAAAEQAQAAAAABEAEAAAAAARABAAAAAAEQAQAAAAABEAEAAAAAARABAAAABABBABAAEAAABEAAABAAAARABAAAAAAEQAQAAAAABEAEAAAAAARABAAAAAAEQAQAAAAABEAEAAAAAARABAAAAAAEQAQAAAAAARABAAAAAAEQAQAAAAABEAEAAAAAARABAAAAAAEQAQAAAAABEAEAAAAAARANiOAydgB+r8DPPzVfOfV//bwGkAAFrjKD8zZwABADY1ys+b5q+GPgCACAAIAARShv5Jfo6NfgAAEQAQAIhpYvgDAIgAQHe8dAI2NMzPeVq+6n/oHAAAIZR/t/s7P3OnAAEAiklafmusn/oDAIgAgABAQGXw/5af750CAEAEAAQA4o7/8sr/0CkAAEQAQAAg9vivnQIAQAQABADi+sP4BwAQAZwCBABiO23+oQ8AgAggAoAAQOB/0L9zBgAARAAQAIhr9bn/Q6cAAEAEAAGAuH7OzytnAABABIBYDpyANVV+Lp0BAIAHHOVn5gzQPd4AYF354j/f+g8AwEPKmwDlY6MfnQK6xRsArFTJT/8BAHi8WVq+DQB0xAsnoDF2AgAANvz3x6kz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\"","import {createSelector} from \"reselect\";\nimport {AppStateType} from \"../redux_store\";\nimport {UsersType} from \"../../types/types\";\n\nexport const getUsersSelector = (state: AppStateType) => {\n    return state.usersPage.users\n}\n\nexport const getUsers = createSelector(getUsersSelector, (users: Array<UsersType>) => {\n    return users.filter(u => true);\n})\n\nexport const getPageSize = (state: AppStateType) => {\n    return state.usersPage.pageSize\n}\n\nexport const getTotalUsersCount = (state: AppStateType) => {\n    return state.usersPage.totalUsersCount\n}\n\nexport const getCurrentPage = (state: AppStateType) => {\n    return state.usersPage.currentPage\n}\n\nexport const getIsLoading = (state: AppStateType) => {\n    return state.usersPage.isLoading\n}\n\nexport const getFollowingProgress = (state: AppStateType) => {\n    return state.usersPage.followingProgress\n}\n\nexport const isAuthSelector = (state: AppStateType) => {\n    return state.auth.isAuth\n}\n\n\nexport const getFilter = (state: AppStateType) => {\n    return state.usersPage.filter\n}","import React, {FC, useEffect} from \"react\";\nimport s from './Users.module.css';\nimport User from \"./User/User\";\nimport {Paginator} from \"./Paginator/Paginator\";\nimport {ErrorMessage, Field, Form, Formik} from \"formik\";\nimport {FilterType, getUsersThunkCreator} from \"../../../redux/reducers/users_reducer\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {\n    getCurrentPage,\n    getFilter,\n    getFollowingProgress,\n    getIsLoading,\n    getPageSize,\n    getTotalUsersCount,\n    getUsers,\n    isAuthSelector\n} from \"../../../redux/reducers/users_selectors\";\nimport Preloader from \"../../common/Preloader/Preloader\";\nimport {useHistory} from \"react-router-dom\";\nimport * as queryString from \"querystring\";\nimport {ParsedUrlQuery} from \"querystring\";\n\ntype PropsType = {\n    // totalUsersCount: number\n    // pageSize: number\n    // currentPage: number\n    // isAuth: boolean\n    // followingProgress: Array<number>\n    // users: Array<UsersType>\n    // follow: (userId: number) => void\n    // unfollow: (userId: number) => void\n    // onPageChanged: (currentPage: number) => void\n    // onFilterChanged: (filter: FilterType) => void\n\n}\nconst Users: FC<PropsType> = (props) => {\n    const dispatch = useDispatch()\n    const users = useSelector(getUsers)\n    const pageSize = useSelector(getPageSize)\n    const totalUsersCount = useSelector(getTotalUsersCount)\n    const currentPage = useSelector(getCurrentPage)\n    const isLoading = useSelector(getIsLoading)\n    const followingProgress = useSelector(getFollowingProgress)\n    const isAuth = useSelector(isAuthSelector)\n    const filter = useSelector(getFilter)\n\n    const history = useHistory()\n    const parseUrl = queryString.parse(history.location.search.slice(1)) as {term: string; friend: string; page: string}\n\n    let actualFilter = filter\n    let actualPage = currentPage\n\n    if(!!parseUrl.page) actualPage = Number(parseUrl.page)\n    if(!!parseUrl.term) actualFilter = {...actualFilter, term: parseUrl.term}\n    if(!!parseUrl.friend) actualFilter = {...actualFilter, friend: parseUrl.friend === 'true' ? true : false}\n\n\n\n    useEffect(() => {\n        dispatch(getUsersThunkCreator(actualPage, actualFilter, pageSize))\n    }, [])\n\n    return (<>\n            {isLoading ? <Preloader/> : null}\n            <div className={s.users}>\n                <UsersSearchForm term={actualFilter.term} friend={actualFilter.friend}  pageSize={pageSize}/>\n                <Paginator totalUsersCount={totalUsersCount}\n                           pageSize={pageSize}\n                           currentPage={currentPage}\n                           filter={filter}\n                />\n                {\n                    users.map(u => <User\n                        user={u}\n                        followingProgress={followingProgress}\n                        isAuth={isAuth}\n                    />)\n                }\n            </div>\n        </>\n    )\n}\nexport default Users;\n\ntype FilterPropsType = {\n    pageSize: number\n    term: string | null\n    friend: boolean | null\n}\n\nconst UsersSearchFromValidate = (values: any) => {\n    const errors: any = {term: ''};\n    if (!values.term) {\n        errors.term = 'Required';\n    } else if (\n        !/^[A-Z0-9]$/i.test(values.term)\n    ) {\n        errors.term = 'Invalid search text';\n    }\n    return errors;\n}\nexport const createSearchFilterUrl = (filter: FilterType, page = 1) => {\n    let friendFilter = String(filter.friend)\n    let searchHistoryUrl = `page=${page}`\n    if(friendFilter !== 'null' && filter.term) {\n        searchHistoryUrl = `page=${page}&friend=${friendFilter}&term=${filter.term}`\n    }\n    if(friendFilter === 'null' && filter.term) {\n        searchHistoryUrl = `page=${page}&term=${filter.term}`\n    }\n    if(friendFilter !== 'null' && !filter.term) {\n        searchHistoryUrl = `page=${page}&friend=${friendFilter}`\n    }\n    return searchHistoryUrl\n}\n\nconst UsersSearchForm: FC<FilterPropsType> = (props) => {\n    const dispatch = useDispatch()\n    const history = useHistory()\n    const onFilterChanged = (filter: FilterType) => {\n        dispatch(getUsersThunkCreator(1, filter, props.pageSize))\n        history.push({\n            pathname: 'users',\n            search: createSearchFilterUrl(filter, 1)\n        })\n    }\n    const initialValues: FilterType = {term: props.term, friend: props.friend}\n    return (\n        <div>\n            <h1></h1>\n            <Formik\n                initialValues={initialValues}\n                onSubmit={(values: FilterType, {setSubmitting}) => {\n                    onFilterChanged(values)\n                }}\n            >\n                {({isSubmitting}) => (\n                    <Form>\n                        <Field type=\"text\" name=\"term\"/>\n                        <ErrorMessage name=\"term\" component=\"div\"/>\n                        <label htmlFor=\"friend\">Friend?</label>\n                        <Field component=\"select\"\n                               id=\"friend\"\n                               name=\"friend\">\n                            <option value=\"null\">All</option>\n                            <option value=\"true\">Friends</option>\n                            <option value=\"false\">Not friends</option>\n                        </Field>\n                        <button type=\"submit\">\n                            Find\n                        </button>\n                    </Form>\n                )}\n            </Formik>\n        </div>\n    )\n}\n","import React, {FC} from 'react'\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\nimport {createField, Input} from \"../../common/FieldComponents/FieldComponents\";\nimport {maxLength, required} from \"../../../redux/utilities/validators\";\nimport s from '../../common/FieldComponents/FieldComponents.module.css'\nimport {LoginFormType} from \"../../../redux/reducers/auth_reducer\";\n\nconst maxlength40 = maxLength(40);\nconst maxlength10 = maxLength(10);\n\ntype LoginFormPropsType = {\n    captchaUrl: string | null\n}\n\nexport const LoginForm: FC<LoginFormPropsType & InjectedFormProps<LoginFormType, LoginFormPropsType>> = (props) => {\n    return (\n        <>\n            <form onSubmit={props.handleSubmit}>\n                <div>\n                    {createField<LoginFormFieldTypeKeys>('login', 'email', [required, maxlength40], Input)}\n                </div>\n                <div>\n                    {createField<LoginFormFieldTypeKeys>('password', 'password', [required, maxlength40], Input)}\n                </div>\n                <div>\n                    {createField<LoginFormFieldTypeKeys>(undefined, 'rememberMe', [], Input, {type: 'checkbox'}, 'Remember me')}\n                </div>\n                {props.error && <div className={s.formSummaryError}>\n                    {props.error}\n                </div>}\n                {\n                    props.captchaUrl ? <Captcha captchaUrl={props.captchaUrl}/> : ''\n                }\n\n\n                <div>\n\n                    <button type={'submit'}>Login</button>\n                </div>\n\n            </form>\n        </>\n    )\n}\nexport const Captcha: FC<{ captchaUrl: string }> = (props) => {\n    return (\n        <div>\n            <div><img alt={'captcha'} src={props.captchaUrl}/></div>\n            {createField<CaptchaFormFieldKeys>(undefined, 'captcha', [required, maxlength10], Input)}\n        </div>\n    )\n}\n\nexport const ReduxLoginForm = reduxForm<LoginFormType, LoginFormPropsType>({\n    form: 'login',\n})(LoginForm)\n\nexport default ReduxLoginForm;\n\n\ntype LoginFormFieldTypeKeys = Extract<keyof LoginFormType, string>\ntype CaptchaFormFieldKeys = Extract<keyof { captcha: string }, string>\n\nexport function myField<T extends string>(name: T) {\n    return (<Field name={name} type='text' component={'input'}/>)\n\n}","import React, {FC} from 'react'\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {loginAuthUserThunkCreator, LoginFormType} from \"../../../redux/reducers/auth_reducer\";\nimport ReduxLoginForm from \"./LoginForm\";\nimport {Redirect} from \"react-router-dom\";\nimport {AppStateType} from \"../../../redux/redux_store\";\n\n\nexport const LoginPage: FC = () => {\n    const captchaUrl = useSelector((state: AppStateType) => state.auth.captchaUrl)\n    const isAuth = useSelector((state: AppStateType) => state.auth.isAuth)\n    const dispatch = useDispatch()\n    const onSubmit = (formData: LoginFormType) => {\n        dispatch(loginAuthUserThunkCreator(formData))\n    }\n\n    if (isAuth) {\n        return <Redirect to={'/profile'}/>\n    }\n\n    return (\n        <div>\n            <h1>LOGIN</h1>\n            <ReduxLoginForm captchaUrl={captchaUrl} onSubmit={onSubmit}/>\n        </div>\n    )\n}\n\nexport default LoginPage","import React, {FC} from 'react';\r\nimport s from \"./Header.module.css\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {Avatar, Button, Col, Menu, Row} from \"antd\";\r\nimport {logoutAuthUserThunkCreator} from \"../../redux/reducers/auth_reducer\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/redux_store\";\r\nimport {Header} from \"antd/es/layout/layout\";\r\nimport {UserOutlined} from \"@ant-design/icons\";\r\n\r\n\r\nconst AppHeader: FC = () => {\r\n    const isAuth = useSelector((state: AppStateType) => state.auth.isAuth)\r\n    const login = useSelector((state: AppStateType) => state.auth.login)\r\n    const dispatch = useDispatch()\r\n    return (\r\n        <Header className=\"header\">\r\n            {/*<div className=\"logo\">logo</div>*/}\r\n            <Row>\r\n                <Col span={18}>\r\n                    <Menu selectedKeys={[]} theme='dark' mode=\"horizontal\">\r\n                        <Menu.Item key=\"1\"><Link to={'/profile'}>LOGO</Link></Menu.Item>\r\n                        <Menu.Item key=\"2\"><Link to={'/profile'}>Profile</Link></Menu.Item>\r\n                        <Menu.Item key=\"3\"><Link to={'/users'}>Developers</Link></Menu.Item>\r\n                    </Menu>\r\n                </Col>\r\n                <Col span={6}>\r\n                    <div className={s.loginBlock}>\r\n                        {isAuth ?\r\n                            <div>\r\n                                <span>{`${login}`}</span>\r\n                                <Avatar className={s.header__avatar} style={{ backgroundColor: '#87d068' }} icon={<UserOutlined />} />\r\n                                <Button type={'primary'}\r\n                                        onClick={() => dispatch(logoutAuthUserThunkCreator())}>Logout</Button>\r\n                            </div>\r\n                            : <Link to='/login'>Login</Link>}\r\n                    </div>\r\n                </Col>\r\n            </Row>\r\n        </Header>)\r\n}\r\n\r\nexport default AppHeader;","import {MessageType} from \"../components/pages/Chat/ChatPage\";\ntype EventNameStatusType = 'event-changed' | 'messages-received'\nexport type WSSStatusType = 'pending' | 'ready' | 'error'\ntype ChatAPICallbackType = (messages: MessageType[]) => void\ntype EventNameSubscribersType = (status: WSSStatusType) => void\n\nlet ws: WebSocket\n\nconst onCloseWsChanel = () => {\n    subscribers['event-changed'].forEach(s => s('pending'))\n    setTimeout(onCreateWsChanel, 3000)\n}\n\nconst cleaUp = () => {\n    ws?.removeEventListener('close', onCloseWsChanel)\n    ws?.removeEventListener('message', onMessageHandler)\n    ws?.removeEventListener('error', onErrorWsChanel)\n    ws?.removeEventListener('open', onOpenWsChanel)\n    ws?.close()\n}\n\nfunction onErrorWsChanel() {\n    subscribers['event-changed'].forEach(s => s('error'))\n}\n\nfunction onOpenWsChanel() {\n    subscribers['event-changed'].forEach(s => s('ready'))\n}\n\n\nconst onCreateWsChanel = () => {\n    cleaUp()\n    ws = new WebSocket('wss://social-network.samuraijs.com/handlers/ChatHandler.ashx')\n    ws.addEventListener('close', onCloseWsChanel)\n    ws.addEventListener('error', onErrorWsChanel)\n    ws.addEventListener('open', onOpenWsChanel)\n    ws.addEventListener('message', onMessageHandler)\n}\n\n\nconst onMessageHandler = (e: MessageEvent) => {\n    const newMessages = JSON.parse(e.data)\n    subscribers['messages-received'].forEach(s => s(newMessages))\n}\n\nlet subscribers = {\n    'messages-received' : [] as ChatAPICallbackType[],\n    'event-changed': [] as EventNameSubscribersType[]\n}\n\nexport const chatAPI = {\n    start: () => {\n        onCreateWsChanel()\n    },\n    stop: () => {\n        subscribers['messages-received'] = []\n        subscribers['event-changed'] = []\n        cleaUp()\n    },\n    subscribe: (eventName: EventNameStatusType, callback: ChatAPICallbackType | EventNameSubscribersType) => {\n        // @ts-ignore\n        subscribers[eventName].push(callback)\n    },\n    unsubscribe: (eventName: EventNameStatusType, callback: ChatAPICallbackType| EventNameSubscribersType) => {\n        // @ts-ignore\n        subscribers[eventName].filter(s => s !== callback)\n    },\n    sendMessage: (message: string) => {\n        ws?.send(message)\n    }\n\n}","import {BaseThunkType, InferActionsTypes} from \"../redux_store\";\nimport {MessageType} from \"../../components/pages/Chat/ChatPage\";\nimport {chatAPI, WSSStatusType} from \"../../api/chat-api\";\nimport {Dispatch} from \"redux\";\nimport uuid from 'uuid'\n\ntype ACTIONS = InferActionsTypes<typeof actions>\n\nconst initialState = {\n    messages: [] as MessageType[],\n    status: 'pending' as WSSStatusType,\n}\nexport type InitialStateChatType = typeof initialState;\n\nexport const chatReducer = (state = initialState, action: ACTIONS): InitialStateChatType => {\n    switch (action.type) {\n        case \"chat/MESSAGES_RECEIVED\":\n            return {\n                ...state, messages: [...state.messages, ...action.payload.messages.map(m => ({...m, id: uuid.v1()}))].filter((el, index, array) => index >= array.length - 50),\n            }\n        case \"chat/STATUS_CHANGED\":\n            return {\n                ...state, status: action.payload.status,\n            }\n        default:\n            return state\n    }\n}\n\nexport const actions = {\n    messagesReceived: (messages: MessageType[]) => ({type: 'chat/MESSAGES_RECEIVED', payload: {messages}} as const),\n    statusChanged: (status: WSSStatusType) => ({type: 'chat/STATUS_CHANGED', payload: {status}} as const)\n}\nexport type ChatThunkType = BaseThunkType<ACTIONS>\n\nlet _newMessageHandler: ((messages: MessageType[]) => void) | null = null\nconst newMessageHandlerCreator = (dispatch: Dispatch) => {\n    if (_newMessageHandler === null) {\n        _newMessageHandler = (messages) => {\n            dispatch(actions.messagesReceived(messages))\n        }\n    }\n    return _newMessageHandler\n}\n\nlet _onStatusChanged: ((status: WSSStatusType) => void) | null = null\nconst onStatusChangedCreator = (dispatch: Dispatch) => {\n    if (_onStatusChanged === null) {\n        _onStatusChanged = (status) => {\n              dispatch(actions.statusChanged(status))\n        }\n    }\n    return _onStatusChanged\n}\n\nexport const startMessagesListening = (): ChatThunkType => async (dispatch) => {\n    chatAPI.start()\n    chatAPI.subscribe('messages-received', newMessageHandlerCreator(dispatch))\n    chatAPI.subscribe('event-changed', onStatusChangedCreator(dispatch))\n}\n\nexport const stopMessagesListening = (): ChatThunkType => async (dispatch) => {\n    chatAPI.stop()\n    chatAPI.unsubscribe('messages-received', newMessageHandlerCreator(dispatch))\n    chatAPI.unsubscribe('event-changed', onStatusChangedCreator(dispatch))\n}\n\nexport const sendMessageThunk = (message: string): ChatThunkType => async (dispatch) => {\n    chatAPI.sendMessage(message)\n}\n\n\nexport default chatReducer;","import React, {FC, useEffect, useRef, useState} from 'react';\nimport TextArea from \"antd/es/input/TextArea\";\nimport {Avatar, Button} from \"antd\";\nimport style from './ChatPage.module.css'\nimport {UserOutlined} from \"@ant-design/icons\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {sendMessageThunk, startMessagesListening, stopMessagesListening} from \"../../../redux/reducers/chat_reducer\";\nimport {AppStateType} from \"../../../redux/redux_store\";\n\n\nexport type MessageTypeAPI = {\n    message: string\n    photo: string\n    userId: number\n    userName: string\n}\nexport type MessageType = MessageTypeAPI & {id: string}\n\nconst ChatPage: FC = () => {\n\n    return (\n        <Chat/>\n    );\n};\nconst Chat: FC = React.memo(() => {\n    // const [wsChanel, setWsChanel] = useState<WebSocket | null>(null)\n    // const [readyStatus, setReadyStatus] = useState<'pending' | 'open'>('pending')\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(startMessagesListening())\n        return () => {\n            dispatch(stopMessagesListening()) //  ???\n        }\n    }, [])\n    return (\n        <div>\n            <Messages/>\n            <AddMessageForm/>\n        </div>\n    )\n})\n\nconst Messages: FC<{}> = React.memo(({}) => {\n\n    const messages = useSelector((state: AppStateType) => state.chat.messages)\n    const messageAnchorRef = useRef<HTMLDivElement>(null)\n    const [isAutoScrolling, setIsAutoScrolling] = useState(true)\n    const onScrollHandler = (e: React.UIEvent<HTMLDivElement, UIEvent>) => {\n        const myDiv = e.currentTarget\n        if (myDiv.offsetHeight + myDiv.scrollTop >= myDiv.scrollHeight) {\n            !isAutoScrolling && setIsAutoScrolling(true)\n        } else {\n            isAutoScrolling && setIsAutoScrolling(false)\n        }\n    }\n\n    useEffect(() => {\n        if(isAutoScrolling) {\n            messageAnchorRef?.current?.scrollIntoView({behavior: \"smooth\", block: 'end'})\n        }\n    }, [messages])\n\n    return (\n        <div style={{height: \"400px\", overflowY: 'auto'}} onScroll={onScrollHandler}>\n            {messages.map((m, index) => <Message key={m.id} message={m}/>)}\n            <div ref={messageAnchorRef}></div>\n        </div>\n    )\n})\n\nconst Message: FC<{ message: MessageType }> = React.memo(({message}) => {\n    console.log('>>>>>>>> message');\n\n    return (\n        <div>\n            {message.photo ? <img style={{width: '30px', marginRight: '5px'}} src={message.photo}/> :\n                <Avatar style={{backgroundColor: '#87d068', width: '30px', marginRight: '5px'}}\n                        icon={<UserOutlined/>}/>}\n            <b>{message.userName}</b>\n            <div>{message.message}</div>\n            <hr/>\n        </div>\n    );\n})\n\ntype AddMessageFormType = {\n    ws: WebSocket | null\n    readyStatus: 'open' | 'pending'\n    setReadyStatus: (status: 'open' | 'pending') => void\n}\n\nconst AddMessageForm: FC<{}> = React.memo(({}) => {\n    const [newMessage, setNewMessage] = useState('')\n    const readyStatus = useSelector((state: AppStateType) => state.chat.status)\n    const dispatch = useDispatch()\n    const onSendMessage = () => {\n        if (newMessage) {\n            dispatch(sendMessageThunk(newMessage))\n            setNewMessage('')\n        }\n    }\n\n    return (\n        <div className={style.addMessageForm}>\n            <TextArea value={newMessage} onChange={e => setNewMessage(e.target.value)}\n                      placeholder={'Input message...'}/>\n            <Button disabled={readyStatus !== 'ready'} onClick={onSendMessage} type={'primary'}>Add</Button>\n        </div>\n    )\n})\n\n\nexport default ChatPage","import React, {FC, useEffect} from 'react';\nimport './App.css';\nimport {BrowserRouter, Link, Redirect, Route, Switch} from \"react-router-dom\";\nimport {setInitializedSuccess} from \"./redux/reducers/app_reducer\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\nimport WithSuspenseComponent from \"./redux/hoc/withSuspenseComponent\";\nimport 'antd/dist/antd.css';\nimport {Breadcrumb, Layout, Menu} from \"antd\";\nimport {LaptopOutlined, NotificationOutlined, UserOutlined} from '@ant-design/icons';\nimport Settings from \"./components/Content/Settings/Settings\";\nimport News from \"./components/Content/News/News\";\nimport Music from \"./components/Content/Music/Music\";\nimport Users from \"./components/Content/Users/Users\";\nimport LoginPage from \"./components/Content/Login/LoginPage\";\nimport {AppStateType} from \"./redux/redux_store\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport AppHeader from \"./components/Header/Header\";\nimport ChatPage from \"./components/pages/Chat/ChatPage\";\n\nconst {SubMenu} = Menu;\nconst {Content, Footer, Sider} = Layout;\n\nconst DialogsContainer = React.lazy(() => import(\"./components/Content/Dialogs/DialogsContainer\"));\nconst ProfileContainer = React.lazy(() => import(\"./components/Content/Profile/ProfileContainer\"));\n\n\n\nconst SuspendedDialogs = WithSuspenseComponent(DialogsContainer)\nconst SuspendedProfile = WithSuspenseComponent(ProfileContainer)\n\nexport const App: FC = () => {\n    const dispatch = useDispatch()\n    const initialized = useSelector((state: AppStateType) => state.app.initialized)\n    useEffect(() => {\n        dispatch(setInitializedSuccess());\n    }, [])\n\n\n    if (!initialized) {\n        return <Preloader/>\n    }\n    return (\n        <BrowserRouter>\n            <Layout>\n                <AppHeader/>\n                <Content style={{padding: '0 50px'}}>\n                    <Breadcrumb style={{margin: '16px 0'}}>\n                        <Breadcrumb.Item>Home</Breadcrumb.Item>\n                        <Breadcrumb.Item>List</Breadcrumb.Item>\n                        <Breadcrumb.Item>App</Breadcrumb.Item>\n                    </Breadcrumb>\n                    <Layout className=\"site-layout-background\" style={{padding: '24px 0'}}>\n                        <Sider className=\"site-layout-background\" width={200}>\n                            <Menu\n                                mode=\"inline\"\n                                // defaultSelectedKeys={['1']}\n                                // defaultOpenKeys={['sub1']}\n                                style={{height: '100%'}}\n                            >\n                                <SubMenu key=\"sub1\" icon={<UserOutlined/>} title=\"Profile\">\n                                    <Menu.Item key=\"1\">\n                                        <Link to='/profile'>Profile</Link>\n                                    </Menu.Item>\n                                    <Menu.Item key=\"2\">\n                                        <Link to='/dialogs'>Dialogs</Link>\n                                    </Menu.Item>\n                                    <Menu.Item key=\"3\">\n                                        <Link to='/chat'>Chat</Link>\n                                    </Menu.Item>\n                                </SubMenu>\n                                <SubMenu key=\"sub2\" icon={<LaptopOutlined/>} title=\"Developers\">\n                                    <Menu.Item key=\"4\">\n                                        <Link to='/users'>Users</Link>\n                                    </Menu.Item>\n\n                                </SubMenu>\n                                <SubMenu key=\"sub3\" icon={<NotificationOutlined/>} title=\"Entertainment\">\n                                    <Menu.Item key=\"5\">\n                                        <Link to='/news'>News</Link>\n                                    </Menu.Item>\n                                    <Menu.Item key=\"6\">\n                                        <Link to='/music'>Music</Link>\n                                    </Menu.Item>\n                                </SubMenu>\n                            </Menu>\n                        </Sider>\n                        <Content style={{padding: '0 24px', minHeight: 280}}>\n                            <Switch>\n                                <Route exact path=\"/\" render={() => <Redirect to={'/profile'}/>}/>\n                                <Route path=\"/dialogs\" render={() => <SuspendedDialogs/>}/>\n                                <Route path=\"/profile/:userId?\" render={() => <SuspendedProfile/>}/>\n                                <Route path='/settings' component={Settings}/>\n                                <Route path='/news' component={News}/>\n                                <Route path='/music' component={Music}/>\n                                <Route path='/users' render={() => <Users/>}/>\n                                <Route path='/login' render={() => <LoginPage/>}/>\n                                <Route path='/chat' render={() => <ChatPage/>}/>\n                                <Route path='*' render={() => <div>404 NOT FOUND</div>}/>\n                            </Switch>\n                        </Content>\n                    </Layout>\n                </Content>\n                <Footer style={{textAlign: 'center'}}>Social network 2022 Created by Melnikov</Footer>\n            </Layout>\n        </BrowserRouter>\n    );\n}\n\nexport default App","let initialState = {\n    friends: [\n        {\n            id: 1,\n            name: \"Matvei\",\n            avatar: \"https://www.diethelmtravel.com/wp-content/uploads/2016/04/bill-gates-wealthiest-person.jpg\",\n        },\n        {\n            id: 2,\n            name: \"Lena\",\n            avatar: \"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8cG9ydHJhaXR8ZW58MHx8MHx8&ixlib=rb-1.2.1&w=1000&q=80\",\n        },\n        {\n            id: 3,\n            name: \"Artur\",\n            avatar: \"https://upload.wikimedia.org/wikipedia/commons/a/a0/Pierre-Person.jpg\",\n        },\n    ],\n}\n\ntype InitialStateSidebarType = typeof initialState;\nconst sidebarReducer = (state = initialState, action: any): InitialStateSidebarType  => {\n    return state;\n}\n\nexport default sidebarReducer;","import {Action, applyMiddleware, combineReducers, compose, createStore} from \"redux\";\nimport profileReducer from \"./reducers/profile_reducer\";\nimport dialogsReducer from \"./reducers/dialogs_reducer\";\nimport sidebarReducer from \"./reducers/sidebar_reducer\";\nimport usersReducer from \"./reducers/users_reducer\";\nimport thunkMiddleware, {ThunkAction} from \"redux-thunk\";\nimport {reducer as formReducer} from 'redux-form';\nimport appReducer from \"./reducers/app_reducer\";\nimport authReducer from \"./reducers/auth_reducer\";\nimport chatReducer from \"./reducers/chat_reducer\";\n\nlet rootReducer = combineReducers({\n    app: appReducer,\n    profilePage: profileReducer,\n    dialogsPage: dialogsReducer,\n    sidebar: sidebarReducer,\n    usersPage: usersReducer,\n    auth: authReducer,\n    form: formReducer,\n    chat: chatReducer,\n})\n\nexport type RootReducerType = typeof rootReducer // (globalstate: GLOBALSTATE) => GLOBALSTATE\nexport type AppStateType = ReturnType<RootReducerType>\n\n\n//GENERIC   ActionTypes\nexport type InferActionsTypes<T> = T extends { [key: string]: (...args: any[]) => infer U} ? U : never\nexport type BaseThunkType<A extends Action, R = Promise<void>> = ThunkAction<R, AppStateType, null, A>\n\n// @ts-ignore\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(rootReducer, /* preloadedState, */ composeEnhancers(\n  applyMiddleware(thunkMiddleware)\n));\n\n// @ts-ignore\nwindow.store = store;\n\nexport default store;\n\n","import React from 'react';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport {Provider} from \"react-redux\"\nimport store from \"./redux/redux_store\";\n\n\nReactDOM.render(\n  <Provider store={store}>\n          <App/>\n  </Provider>\n  , document.getElementById('root'));\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__18QFS\",\"user\":\"Users_user__3AWU1\",\"userPhoto\":\"Users_userPhoto__Zn3fc\",\"userButtons\":\"Users_userButtons__u4O7u\",\"userInfo\":\"Users_userInfo__1KHrs\",\"userName\":\"Users_userName__9AiIh\",\"userInfoLeft\":\"Users_userInfoLeft__2gWMN\",\"userInfoRight\":\"Users_userInfoRight__2oqlC\"};","import React, {FC} from \"react\";\nimport s from './FieldComponents.module.css';\nimport {FieldValidatorType} from \"../../../redux/utilities/validators\";\nimport {Field, WrappedFieldProps} from \"redux-form\";\n\nconst FieldComponent = (Element: any) => {\n    return ({input, meta, ...props}: any) => {\n        const hasError = meta.error && meta.touched;\n        return (\n          <div className={s.textareaForm + ' ' + (hasError ? s.error : '')}>\n              <div>\n                  <Element {...input} {...props} placeholder={props.placeholder}></Element>{props.text}\n              </div>\n              <span>{hasError ? meta.error : ''}</span>\n          </div>\n        )\n    }\n\n}\n\nexport function createField<FormKeysType extends string>(placeholder: string | undefined,\n  name: FormKeysType,\n  validators: Array<FieldValidatorType>,\n  component: FC<WrappedFieldProps>,\n  props = {}, text = \"\") {\n    return (<div>\n        <Field placeholder={placeholder}\n               name={name}\n               validate={validators}\n               component={component}\n               text={text}\n               {...props}/>\n    </div>)\n}\n\n\nexport const Textarea = FieldComponent('textarea')\nexport const Input = FieldComponent('input');\n\n\n","export type FieldValidatorType = (value: string) => string | undefined\nexport const required:FieldValidatorType = (value) => {\n    if(value) {\n        return undefined;\n    }\n    return 'Field is required.'\n}\n\nexport const maxLength = (maxLength: number) : FieldValidatorType =>  (value) => {\n    if(value && value.length > maxLength) {\n        return `Max length is ${maxLength} symbols`\n    }\n    return undefined;\n}","export default __webpack_public_path__ + \"static/media/Spinner-1s-200px.9945c37d.svg\";","import React from 'react'\nimport preloader from \"../../../assets/images/Spinner-1s-200px.svg\";\nimport {FC} from \"react\";\nconst Preloader:FC<{}> = (props) => {\n    return (\n      <div>\n          <img src={preloader} alt={'preloader'}/>\n      </div>\n    )\n}\n\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pages\":\"Paginator_pages__YncHK\",\"pageItem\":\"Paginator_pageItem__YL4Ir\",\"selectedPageItem\":\"Paginator_selectedPageItem__30LFH\",\"arrowsButton\":\"Paginator_arrowsButton__1NhWQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"textareaForm\":\"FieldComponents_textareaForm__1-MXw\",\"error\":\"FieldComponents_error__3Cc4n\",\"formSummaryError\":\"FieldComponents_formSummaryError__2dehE\"};"],"sourceRoot":""}